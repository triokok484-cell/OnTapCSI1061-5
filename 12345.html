<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ôn tập Khoa học Máy tính Toàn diện</title>
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #f8f9fa;
            --text-color: #333;
            --border-color: #ddd;
            --highlight-bg: #fffbe6;
            --code-bg: #e9e9e9;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: #f4f4f4;
            margin: 0;
            padding: 15px;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: var(--secondary-color);
            border-bottom: 1px solid var(--border-color);
        }
        .header h1 {
            margin: 0;
            font-size: 1.4em;
            color: var(--primary-color);
        }
        .tab-container {
            display: flex;
            flex-wrap: wrap;
            background-color: var(--secondary-color);
            padding: 10px 10px 0 10px;
            border-bottom: 1px solid var(--border-color);
            overflow-x: auto;
        }
        .tab-btn {
            padding: 10px 15px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 0.95em;
            border-bottom: 3px solid transparent;
            margin-right: 5px;
            margin-bottom: -1px; /* Overlap the container border */
            white-space: nowrap;
        }
        .tab-btn.active {
            font-weight: bold;
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
        }
        .content-wrapper { padding: 5px 25px 20px; }
        .content-wrapper h2 {
            font-size: 1.5em;
            color: #333;
            margin-top: 1.5em;
            border-bottom: 2px solid #eee;
            padding-bottom: 8px;
        }
        .content-wrapper h3 { font-size: 1.2em; color: var(--primary-color); margin-top: 1.5em;}
        .content-wrapper p, .content-wrapper ul { margin-bottom: 1em; }
        ul { padding-left: 20px; }
        li { margin-bottom: 0.5em; }
        strong { color: #c7254e; }
        .highlight {
            background-color: var(--highlight-bg);
            padding: 2px 5px;
            border-radius: 4px;
        }
        code {
            background-color: var(--code-bg);
            font-family: 'Courier New', Courier, monospace;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        .practice-box {
            background-color: #eef7ff;
            border: 1px solid #cce5ff;
            border-left: 5px solid var(--primary-color);
            border-radius: 5px;
            padding: 15px;
            margin-top: 25px;
        }
        .practice-box h3 {
            margin-top: 0;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            padding: 20px 25px;
            border-top: 1px solid var(--border-color);
            background-color: var(--secondary-color);
        }
        .btn {
            padding: 10px 20px;
            border: none;
            background-color: #6c757d;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease;
        }
        .btn:hover { background-color: #5a6268; }
        .btn:disabled { background-color: #cccccc; cursor: not-allowed; }
        #lang-toggle { background-color: #28a745; }
        #lang-toggle:hover { background-color: #218838; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 id="main-title">Ôn tập CSI</h1>
            <button id="lang-toggle" class="btn">English</button>
        </div>

        <div id="tab-container" class="tab-container"></div>
        <div id="chapter-content" class="content-wrapper"></div>

        <div class="navigation">
            <button id="prev-btn" class="btn">Chương trước</button>
            <button id="next-btn" class="btn">Chương tiếp</button>
        </div>
    </div>

<script>
    const chapters = [
        { // Chapter 1
            vi: {
                tab: "Ch.1: Tổng quan",
                title: "Chương 1: Giới thiệu Khoa học Máy tính",
                content: `
                    <h2>Mô hình Turing</h2>
                    <p>Được đề xuất bởi Alan Turing (1936), là mô hình lý thuyết định nghĩa máy tính là một <strong class="highlight">bộ xử lý dữ liệu có thể lập trình được</strong>.</p>
                    <ul>
                        <li><strong>Máy Turing Phổ quát (Universal Turing Machine):</strong> Một máy tính có thể thực hiện bất kỳ phép tính nào nếu được cung cấp đủ dữ liệu và chương trình.</li>
                        <li><strong>Khái niệm Hộp đen:</strong> <code>Input → Xử lý → Output</code>.</li>
                        <li><strong>Sự đột phá:</strong> Kết quả (Output) phụ thuộc vào cả <strong>Input</strong> và <strong>Chương trình</strong>. <br><code>Cùng Input, khác Chương trình → Khác Output</code>.</li>
                    </ul>
                    <h2>Mô hình Von Neumann</h2>
                    <p>Mô hình kiến trúc thực tế do John von Neumann đề xuất (1944-1945), là nền tảng của hầu hết máy tính hiện đại.</p>
                    <ul>
                        <li><strong>Khái niệm đột phá:</strong> <strong class="highlight">Chương trình được lưu trữ (Stored-Program Concept)</strong>, tức là cả lệnh và dữ liệu đều được lưu trong bộ nhớ dưới dạng nhị phân.</li>
                        <li><strong>Bốn hệ thống con phần cứng:</strong>
                            <ol>
                                <li><strong>Bộ nhớ (Memory):</strong> Lưu trữ chương trình và dữ liệu.</li>
                                <li><strong>Bộ số học & logic (ALU):</strong> Thực hiện phép tính toán và logic.</li>
                                <li><strong>Đơn vị điều khiển (Control Unit):</strong> Điều khiển hoạt động của các thành phần khác.</li>
                                <li><strong>Hệ thống I/O:</strong> Giao tiếp với bên ngoài (chấp nhận input, xuất output, lưu trữ thứ cấp như đĩa cứng).</li>
                            </ol>
                        </li>
                        <li><strong>Thực thi tuần tự:</strong> Các chỉ thị được thực thi một cách tuần tự (Nạp → Giải mã → Thực thi).</li>
                    </ul>
                    <h2>Các thành phần máy tính</h2>
                    <ul>
                        <li><strong>Phần cứng (Hardware):</strong> Các thành phần vật lý.</li>
                        <li><strong>Dữ liệu (Data):</strong> Thông tin thô được chuyển đổi và lưu dưới dạng chuỗi bit (0 và 1).</li>
                        <li><strong>Phần mềm (Software):</strong> Gồm các chương trình. Một chương trình là tập hợp các chỉ thị (thuật toán) để giải quyết một vấn đề, được viết bằng một <strong>ngôn ngữ lập trình</strong>.</li>
                    </ul>
                    <h2>Lịch sử Máy tính</h2>
                    <ul>
                        <li><strong>Máy cơ khí:</strong> Máy Pascaline (Pascal), Bánh xe Leibniz (Leibniz), Máy dệt (Jacquard), Động cơ Phân tích (Babbage).</li>
                        <li><strong>Máy tính điện tử (Chương trình bên ngoài):</strong> ABC, Z1, Mark I, Colossus.</li>
                        <li><strong>Thế hệ máy tính (dựa trên công nghệ):</strong>
                            <ol>
                                <li><strong>Thế hệ 1 (1950-59):</strong> <span class="highlight">Đèn chân không</span>. Máy tính thương mại ra đời (ENIAC, EDVAC).</li>
                                <li><strong>Thế hệ 2 (1959-65):</strong> <span class="highlight">Bóng bán dẫn (Transistor)</span>. Máy nhỏ, rẻ hơn, ngôn ngữ lập trình cấp cao xuất hiện (FORTRAN, COBOL).</li>
                                <li><strong>Thế hệ 3 (1965-75):</strong> <span class="highlight">Mạch tích hợp (IC)</span>. Máy tính mini ra đời, có gói phần mềm và hệ điều hành.</li>
                                <li><strong>Thế hệ 4 (1975-85):</strong> <span class="highlight">Bộ vi xử lý</span>. Kỷ nguyên máy tính cá nhân (PC) bắt đầu.</li>
                                <li><strong>Thế hệ 5 (1985-nay):</strong> Máy tính xách tay, đa phương tiện, mạng máy tính, AI.</li>
                            </ol>
                        </li>
                    </ul>
                `
            },
            en: {
                tab: "Ch.1: Intro",
                title: "Chapter 1: Introduction to Computer Science",
                content: `
                    <h2>Turing Model</h2>
                    <p>Proposed by Alan Turing (1936), this is a theoretical model that defines a computer as a <strong class="highlight">programmable data processor</strong>.</p>
                    <ul>
                        <li><strong>Universal Turing Machine:</strong> A machine capable of performing any computation if provided with enough data and a program.</li>
                        <li><strong>Black Box Concept:</strong> <code>Input → Process → Output</code>.</li>
                        <li><strong>The Breakthrough:</strong> The Output depends on both the <strong>Input</strong> and the <strong>Program</strong>. <br><code>Same Input, different Program → Different Output</code>.</li>
                    </ul>
                    <h2>Von Neumann Model</h2>
                    <p>A practical architectural model proposed by John von Neumann (1944-1945), forming the basis of most modern computers.</p>
                    <ul>
                        <li><strong>Breakthrough Concept:</strong> The <strong class="highlight">Stored-Program Concept</strong>, where both instructions and data are stored in memory as binary.</li>
                        <li><strong>Four Hardware Subsystems:</strong>
                            <ol>
                                <li><strong>Memory:</strong> Stores programs and data.</li>
                                <li><strong>Arithmetic & Logic Unit (ALU):</strong> Performs calculations and logical operations.</li>
                                <li><strong>Control Unit:</strong> Directs the operations of other components.</li>
                                <li><strong>I/O System:</strong> Interfaces with the outside world (accepts input, produces output, secondary storage like hard drives).</li>
                            </ol>
                        </li>
                        <li><strong>Sequential Execution:</strong> Instructions are executed sequentially (Fetch → Decode → Execute).</li>
                    </ul>
                    <h2>Computer Components</h2>
                    <ul>
                        <li><strong>Hardware:</strong> The physical components.</li>
                        <li><strong>Data:</strong> Raw information converted and stored as bit strings (0s and 1s).</li>
                        <li><strong>Software:</strong> Consists of programs. A program is a set of instructions (an algorithm) to solve a problem, written in a <strong>programming language</strong>.</li>
                    </ul>
                    <h2>History of Computers</h2>
                    <ul>
                        <li><strong>Mechanical Machines:</strong> Pascaline (Pascal), Leibniz Wheel (Leibniz), Jacquard Loom, Analytical Engine (Babbage).</li>
                        <li><strong>Electronic Computers (External Program):</strong> ABC, Z1, Mark I, Colossus.</li>
                        <li><strong>Computer Generations (based on technology):</strong>
                            <ol>
                                <li><strong>1st Gen (1950-59):</strong> <span class="highlight">Vacuum Tubes</span>. Commercial computers emerged (ENIAC, EDVAC).</li>
                                <li><strong>2nd Gen (1959-65):</strong> <span class="highlight">Transistors</span>. Smaller, cheaper machines; high-level languages appeared (FORTRAN, COBOL).</li>
                                <li><strong>3rd Gen (1965-75):</strong> <span class="highlight">Integrated Circuits (ICs)</span>. Minicomputers, software packages, and operating systems were introduced.</li>
                                <li><strong>4th Gen (1975-85):</strong> <span class="highlight">Microprocessors</span>. The era of personal computers (PCs) began.</li>
                                <li><strong>5th Gen (1985-present):</strong> Laptops, multimedia, computer networks, AI.</li>
                            </ol>
                        </li>
                    </ul>
                `
            }
        },
        { // Chapter 2
            vi: {
                tab: "Ch.2: Hệ số",
                title: "Chương 2: Hệ Thống Số",
                content: `
                    <h2>Hệ thống số theo vị trí (Positional)</h2>
                    <p>Giá trị của một chữ số phụ thuộc vào vị trí của nó. Bao gồm cả <strong>phần nguyên</strong> (lũy thừa không âm của cơ số) và <strong>phần phân số</strong> (lũy thừa âm).</p>
                    <p><strong>Giá trị lớn nhất</strong> có thể biểu diễn với K chữ số trong cơ số b là <code>N_max = b^K - 1</code>.</p>
                    <h2>Các hệ đếm quan trọng</h2>
                    <ul>
                        <li><strong>Nhị phân (Binary - Base 2):</strong> Dùng 0, 1. Quan trọng nhất với máy tính.</li>
                        <li><strong>Thập lục phân (Hexadecimal - Base 16):</strong> Dùng 0-9, A-F. Mục đích chính là <span class="highlight">biểu diễn chuỗi nhị phân dài một cách ngắn gọn</span>.</li>
                        <li><strong>Bát phân (Octal - Base 8):</strong> Dùng 0-7.</li>
                    </ul>
                    <h2>Hệ thống số không theo vị trí (Non-positional)</h2>
                    <p>Ví dụ điển hình là <strong>Số La Mã</strong>. Đặc điểm:</p>
                    <ul>
                        <li>Các ký hiệu có giá trị cố định (I=1, V=5, X=10, L=50, C=100, D=500, M=1000).</li>
                        <li>Sử dụng quy tắc <strong>cộng</strong> (VD: <code>VI = 6</code>) và <strong>trừ</strong> (VD: <code>IV = 4</code>).</li>
                        <li>Không có ký hiệu cho số 0.</li>
                    </ul>
                    <div class="practice-box">
                        <h3>Ví dụ Tính toán Chuyển đổi Cơ số</h3>
                        <p><strong>Ví dụ 1: Chuyển <code>(6A.4)₁₆</code> sang hệ 10.</strong></p>
                        <p>Giá trị = (6 * 16¹) + (10 * 16⁰) + (4 * 16⁻¹)<br>
                           = 96 + 10 + 4/16 = <strong>106.25₁₀</strong>.</p>
                        <p><strong>Ví dụ 2: Chuyển <code>25.125₁₀</code> sang hệ 2.</strong></p>
                        <ul>
                            <li><strong>Phần nguyên (25):</strong> Chia 2 liên tiếp được <code>11001₂</code>.</li>
                            <li><strong>Phần phân số (0.125):</strong> Nhân 2 liên tiếp:
                                <ul>
                                    <li>0.125 * 2 = <strong>0</strong>.25</li>
                                    <li>0.25 * 2 = <strong>0</strong>.5</li>
                                    <li>0.5 * 2 = <strong>1</strong>.0 → Dừng.</li>
                                </ul>
                                Đọc từ trên xuống: <code>.001₂</code>
                            </li>
                        </ul>
                        <p>Kết quả: <strong><code>11001.001₂</code></strong>.</p>
                        <p><strong>Ví dụ 3: Chuyển <code>(7B)₁₆</code> sang hệ 8.</strong></p>
                        <p>Sử dụng <span class="highlight">nhị phân làm trung gian</span>:</p>
                        <ol>
                            <li><strong>Hex → Binary:</strong> Tách từng chữ số thành 4 bit.<br>
                                <code>7 → 0111</code>, <code>B → 1011</code>. Ghép lại: <code>01111011₂</code>.
                            </li>
                            <li><strong>Binary → Octal:</strong> Nhóm 3 bit từ phải qua trái.<br>
                                <code>(00)1 111 011</code>. Nhóm lại: <code>1</code>, <code>7</code>, <code>3</code>.
                            </li>
                        </ol>
                        <p>Kết quả: <strong><code>(173)₈</code></strong>.</p>
                    </div>
                `
            },
            en: {
                tab: "Ch.2: Numbers",
                title: "Chapter 2: Number Systems",
                content: `
                    <h2>Positional Number Systems</h2>
                    <p>The value of a digit depends on its position. This includes an <strong>integer part</strong> (non-negative powers of the base) and a <strong>fractional part</strong> (negative powers).</p>
                    <p>The <strong>maximum value</strong> representable with K digits in base b is <code>N_max = b^K - 1</code>.</p>
                    <h2>Important Number Systems</h2>
                    <ul>
                        <li><strong>Binary (Base 2):</strong> Uses 0, 1. The most important for computers.</li>
                        <li><strong>Hexadecimal (Base 16):</strong> Uses 0-9, A-F. Its main purpose is to <span class="highlight">represent long binary strings concisely</span>.</li>
                        <li><strong>Octal (Base 8):</strong> Uses 0-7.</li>
                    </ul>
                    <h2>Non-positional Number Systems</h2>
                    <p>A typical example is <strong>Roman Numerals</strong>. Features:</p>
                    <ul>
                        <li>Symbols have fixed values (I=1, V=5, X=10, L=50, C=100, D=500, M=1000).</li>
                        <li>Uses <strong>additive</strong> (e.g., <code>VI = 6</code>) and <strong>subtractive</strong> (e.g., <code>IV = 4</code>) rules.</li>
                        <li>Has no symbol for zero.</li>
                    </ul>
                    <div class="practice-box">
                        <h3>Base Conversion Calculation Examples</h3>
                        <p><strong>Example 1: Convert <code>(6A.4)₁₆</code> to base 10.</strong></p>
                        <p>Value = (6 * 16¹) + (10 * 16⁰) + (4 * 16⁻¹)<br>
                           = 96 + 10 + 4/16 = <strong>106.25₁₀</strong>.</p>
                        <p><strong>Example 2: Convert <code>25.125₁₀</code> to base 2.</strong></p>
                        <ul>
                            <li><strong>Integer Part (25):</strong> Repeated division by 2 yields <code>11001₂</code>.</li>
                            <li><strong>Fractional Part (0.125):</strong> Repeated multiplication by 2:
                                <ul>
                                    <li>0.125 * 2 = <strong>0</strong>.25</li>
                                    <li>0.25 * 2 = <strong>0</strong>.5</li>
                                    <li>0.5 * 2 = <strong>1</strong>.0 → Stop.</li>
                                </ul>
                                Read from top to bottom: <code>.001₂</code>
                            </li>
                        </ul>
                        <p>Result: <strong><code>11001.001₂</code></strong>.</p>
                        <p><strong>Example 3: Convert <code>(7B)₁₆</code> to base 8.</strong></p>
                        <p>Use <span class="highlight">binary as an intermediate step</span>:</p>
                        <ol>
                            <li><strong>Hex → Binary:</strong> Expand each digit to 4 bits.<br>
                                <code>7 → 0111</code>, <code>B → 1011</code>. Combine: <code>01111011₂</code>.
                            </li>
                            <li><strong>Binary → Octal:</strong> Group bits into sets of 3 from the right.<br>
                                <code>(00)1 111 011</code>. Grouped: <code>1</code>, <code>7</code>, <code>3</code>.
                            </li>
                        </ol>
                        <p>Result: <strong><code>(173)₈</code></strong>.</p>
                    </div>
                `
            }
        },
        { // Chapter 3
            vi: {
                tab: "Ch.3: Lưu trữ",
                title: "Chương 3: Lưu trữ Dữ liệu",
                content: `
                    <h2>Biểu diễn dữ liệu</h2>
                    <p>Tất cả dữ liệu (số, văn bản, video...) đều được lưu trữ dưới dạng một chuỗi các bit, gọi là <strong class="highlight">mẫu bit (bit pattern)</strong>. Các đơn vị cơ bản:</p>
                    <ul>
                        <li><strong>Bit (Binary Digit):</strong> Đơn vị nhỏ nhất, có giá trị 0 hoặc 1.</li>
                        <li><strong>Byte:</strong> Một nhóm 8 bit.</li>
                        <li><strong>Word:</strong> Một nhóm nhiều byte (vd: 16, 32, 64 bit), tùy thuộc kiến trúc máy tính.</li>
                    </ul>
                    <h2>Lưu trữ Số Nguyên (Integers)</h2>
                    <ul>
                        <li><strong>Không dấu (Unsigned):</strong> Chỉ biểu diễn số dương và 0. Phạm vi từ <code>0</code> đến <code>2^n - 1</code>. Có thể xảy ra <strong>tràn số (overflow)</strong>.</li>
                        <li><strong>Có dấu (Signed):</strong>
                            <ul>
                                <li><strong>Dấu và Độ lớn (Sign-and-Magnitude):</strong> Bit đầu làm bit dấu. Nhược điểm: có 2 biểu diễn cho số 0.</li>
                                <li><strong>Bù Hai (Two's Complement):</strong> Phương pháp chuẩn, khắc phục nhược điểm trên. Cách tìm: Đảo bit (Bù 1) rồi cộng 1.</li>
                            </ul>
                        </li>
                    </ul>
                    <h2>Lưu trữ Số thực (Reals) - Chuẩn IEEE 754</h2>
                    <p>Dựa trên ký pháp khoa học và <span class="highlight">chuẩn hóa</span> số nhị phân về dạng <code>1.xxxxx * 2^n</code>. Gồm:</p>
                    <ul>
                        <li><strong>Độ chính xác đơn (Single Precision - 32 bit):</strong> 1 bit dấu, 8 bit số mũ (lệch 127), 23 bit phần định trị.</li>
                        <li><strong>Độ chính xác kép (Double Precision - 64 bit):</strong> 1 bit dấu, 11 bit số mũ (lệch 1023), 52 bit phần định trị.</li>
                        <li>Lưu ý: Có thể gặp các lỗi như <strong>Tràn số (Overflow/Underflow)</strong> và <strong>Lỗi cắt cụt (Truncation Errors)</strong>.</li>
                    </ul>
                    <h2>Lưu trữ các loại dữ liệu khác</h2>
                    <ul>
                        <li><strong>Văn bản:</strong> Dùng bảng mã <strong>ASCII</strong> (8 bit, là một phần của Unicode) hoặc <strong>Unicode</strong> (16/32 bit, chuẩn quốc tế).</li>
                        <li><strong>Âm thanh:</strong> Số hóa qua 3 bước: <strong>Lấy mẫu (Sampling)</strong>, <strong>Lượng tử hóa (Quantization)</strong>, và <strong>Mã hóa (Encoding)</strong>. Tốc độ bit = Tốc độ lấy mẫu × Độ sâu bit.</li>
                        <li><strong>Hình ảnh:</strong>
                            <ul>
                                <li><strong>Raster (Bitmap) (JPEG, GIF):</strong> Dưới dạng lưới pixel. Chất lượng phụ thuộc <strong>Độ phân giải</strong> và <strong>Độ sâu màu</strong> (True-Color 24-bit hoặc Indexed Color 8-bit).</li>
                                <li><strong>Vector (SVG, AI):</strong> Dưới dạng công thức toán học. Không vỡ hình khi phóng to.</li>
                            </ul>
                        </li>
                        <li><strong>Video (MPEG, AVI):</strong> Một chuỗi các hình ảnh (frames), thường được nén mất mát (lossy compression).</li>
                    </ul>
                `
            },
            en: {
                tab: "Ch.3: Storage",
                title: "Chapter 3: Data Storage",
                content: `
                    <h2>Data Representation</h2>
                    <p>All data (numbers, text, video...) are stored as a sequence of bits, called a <strong class="highlight">bit pattern</strong>. Basic units:</p>
                    <ul>
                        <li><strong>Bit (Binary Digit):</strong> The smallest unit, value 0 or 1.</li>
                        <li><strong>Byte:</strong> A group of 8 bits.</li>
                        <li><strong>Word:</strong> A group of multiple bytes (e.g., 16, 32, 64 bits), depending on the computer's architecture.</li>
                    </ul>
                    <h2>Storing Integers</h2>
                    <ul>
                        <li><strong>Unsigned:</strong> Represents only non-negative numbers and 0. Range from <code>0</code> to <code>2^n - 1</code>. Can lead to <strong>overflow</strong>.</li>
                        <li><strong>Signed:</strong>
                            <ul>
                                <li><strong>Sign-and-Magnitude:</strong> The first bit is the sign bit. Flaw: has two representations for zero.</li>
                                <li><strong>Two's Complement:</strong> The standard method, which solves the issues above. To find: Invert bits (One's Complement) then add 1.</li>
                            </ul>
                        </li>
                    </ul>
                    <h2>Storing Reals - IEEE 754 Standard</h2>
                    <p>Based on scientific notation and <span class="highlight">normalizing</span> the binary number to the form <code>1.xxxxx * 2^n</code>. Includes:</p>
                    <ul>
                        <li><strong>Single Precision (32 bits):</strong> 1 sign bit, 8 exponent bits (excess-127), 23 mantissa bits.</li>
                        <li><strong>Double Precision (64 bits):</strong> 1 sign bit, 11 exponent bits (excess-1023), 52 mantissa bits.</li>
                        <li>Note: Can encounter errors like <strong>Overflow/Underflow</strong> and <strong>Truncation Errors</strong>.</li>
                    </ul>
                    <h2>Storing Other Data Types</h2>
                    <ul>
                        <li><strong>Text:</strong> Uses character sets like <strong>ASCII</strong> (8-bit, part of Unicode) or <strong>Unicode</strong> (16/32-bit, international standard).</li>
                        <li><strong>Audio:</strong> Digitized in 3 steps: <strong>Sampling</strong>, <strong>Quantization</strong>, and <strong>Encoding</strong>. Bit rate = Sampling Rate × Bit Depth.</li>
                        <li><strong>Images:</strong>
                            <ul>
                                <li><strong>Raster (Bitmap) (JPEG, GIF):</strong> As a grid of pixels. Quality depends on <strong>Resolution</strong> and <strong>Color Depth</strong> (True-Color 24-bit or Indexed Color 8-bit).</li>
                                <li><strong>Vector (SVG, AI):</strong> As mathematical formulas. Scalable without quality loss.</li>
                            </ul>
                        </li>
                        <li><strong>Video (MPEG, AVI):</strong> A sequence of images (frames), usually with lossy compression.</li>
                    </ul>
                `
            }
        },
        { // Chapter 4
            vi: {
                tab: "Ch.4: Thao tác",
                title: "Chương 4: Các Thao tác trên Dữ liệu",
                content: `
                    <h2>Thao tác Logic (Logic Operations)</h2>
                    <p>Xử lý trên từng bit riêng lẻ hoặc trên toàn bộ mẫu bit.</p>
                    <ul>
                        <li><strong>NOT:</strong> Đảo bit (Phép Bù Một).</li>
                        <li><strong>AND:</strong> Kết quả là 1 CHỈ KHI cả hai bit là 1. Tính chất: <code>X AND 0 = 0</code>.</li>
                        <li><strong>OR (Inclusive-OR):</strong> Kết quả là 0 CHỈ KHI cả hai bit là 0. Tính chất: <code>X OR 1 = 1</code>.</li>
                        <li><strong>XOR (Exclusive-OR):</strong> Kết quả là 1 CHỈ KHI hai bit khác nhau. Tính chất: <code>X XOR 1 = NOT X</code> (lật bit).</li>
                    </ul>
                    <p><strong>Ứng dụng:</strong> Dùng <strong class="highlight">mặt nạ (Mask)</strong> để bật (Set - OR), tắt (Unset - AND), hoặc đảo (Flip - XOR) các bit cụ thể.</p>
                    <h2>Thao tác Dịch chuyển (Shift Operations)</h2>
                    <ul>
                        <li><strong>Dịch chuyển Logic (Logical Shift):</strong> Áp dụng cho số không dấu. Bit bị đẩy ra ngoài sẽ mất, bit trống được chèn vào là 0.</li>
                        <li><strong>Dịch chuyển Vòng (Circular Shift / Rotate):</strong> Không có bit nào bị mất. Bit bị đẩy ra ở đầu này sẽ được chèn vào đầu kia.</li>
                        <li><strong>Dịch chuyển Số học (Arithmetic Shift):</strong> Áp dụng cho số có dấu (Bù 2) để <span class="highlight">nhân/chia nhanh cho 2</span>.
                            <ul>
                                <li><strong>Dịch phải (Chia 2):</strong> Bit dấu (bit trái nhất) được giữ lại và sao chép vào vị trí trống.</li>
                                <li><strong>Dịch trái (Nhân 2):</strong> Chèn bit 0 vào bên phải. Cần <span class="highlight">kiểm tra tràn số</span> nếu bit dấu bị thay đổi.</li>
                            </ul>
                        </li>
                    </ul>
                    <div class="practice-box">
                        <h3>Ví dụ Tính toán</h3>
                        <p><strong>Ví dụ 1: Tắt 4 bit bên trái của chuỗi <code>10110101</code>.</strong></p>
                        <p>Dùng phép <strong>AND</strong> với mặt nạ <code>00001111</code> (bit 0 ở vị trí cần tắt).</p>
                        <code>
                            &nbsp;&nbsp;10110101 (Data)<br>
                            & 00001111 (Mask)<br>
                            ------------<br>
                            &nbsp;&nbsp;<strong>00000101</strong> (Result)
                        </code>
                        <p><strong>Ví dụ 2: Dịch chuyển vòng phải (Right Rotate) chuỗi <code>11001010</code> 1 vị trí.</strong></p>
                        <p>Bit phải nhất (<code>0</code>) sẽ được chuyển lên vị trí trái nhất.</p>
                        <p><code>11001010</code> → <strong><code>01100101</code></strong></p>
                    </div>
                `
            },
            en: {
                tab: "Ch.4: Ops",
                title: "Chapter 4: Operations on Data",
                content: `
                    <h2>Logic Operations</h2>
                    <p>Processes individual bits or entire bit patterns.</p>
                    <ul>
                        <li><strong>NOT:</strong> Inverts bits (One's Complement).</li>
                        <li><strong>AND:</strong> Result is 1 ONLY IF both bits are 1. Property: <code>X AND 0 = 0</code>.</li>
                        <li><strong>OR (Inclusive-OR):</strong> Result is 0 ONLY IF both bits are 0. Property: <code>X OR 1 = 1</code>.</li>
                        <li><strong>XOR (Exclusive-OR):</strong> Result is 1 ONLY IF the two bits are different. Property: <code>X XOR 1 = NOT X</code> (flips the bit).</li>
                    </ul>
                    <p><strong>Application:</strong> Using a <strong class="highlight">mask</strong> to set (OR), unset (AND), or flip (XOR) specific bits.</p>
                    <h2>Shift Operations</h2>
                    <ul>
                        <li><strong>Logical Shift:</strong> Applies to unsigned numbers. The bit shifted out is lost, and a 0 is inserted into the empty position.</li>
                        <li><strong>Circular Shift / Rotate:</strong> No bits are lost. The bit shifted out from one end is inserted into the other end.</li>
                        <li><strong>Arithmetic Shift:</strong> Applies to signed numbers (Two's Complement) for <span class="highlight">fast multiplication/division by 2</span>.
                            <ul>
                                <li><strong>Right Shift (Divide by 2):</strong> The sign bit (leftmost bit) is preserved and copied into the empty position.</li>
                                <li><strong>Left Shift (Multiply by 2):</strong> A 0 is inserted on the right. Must <span class="highlight">check for overflow</span> if the sign bit changes.</li>
                            </ul>
                        </li>
                    </ul>
                    <div class="practice-box">
                        <h3>Calculation Examples</h3>
                        <p><strong>Example 1: Unset the 4 leftmost bits of the string <code>10110101</code>.</strong></p>
                        <p>Use the <strong>AND</strong> operation with the mask <code>00001111</code> (0s at the positions to unset).</p>
                        <code>
                            &nbsp;&nbsp;10110101 (Data)<br>
                            & 00001111 (Mask)<br>
                            ------------<br>
                            &nbsp;&nbsp;<strong>00000101</strong> (Result)
                        </code>
                        <p><strong>Example 2: Right Rotate the string <code>11001010</code> by 1 position.</strong></p>
                        <p>The rightmost bit (<code>0</code>) will be moved to the leftmost position.</p>
                        <p><code>11001010</code> → <strong><code>01100101</code></strong></p>
                    </div>
                `
            }
        },
        { // Chapter 5
            vi: {
                tab: "Ch.5: Tổ chức",
                title: "Chương 5: Tổ chức Máy tính",
                content: `
                    <h2>1. Ba hệ thống con</h2>
                    <p><strong>CPU (Central Processing Unit):</strong> "Bộ não" gồm <span class="highlight">ALU, bộ điều khiển và các thanh ghi</span>.
                    <br>Thanh ghi quan trọng: <strong>PC (Program Counter)</strong> trỏ tới lệnh tiếp theo, <strong>IR (Instruction Register)</strong> chứa lệnh hiện tại.</p>
                    <p><strong>Bộ nhớ chính (Main Memory):</strong> Gồm RAM (khả biến) và ROM (bất biến).</p>
                    <p><strong>Hệ thống I/O:</strong> Giao tiếp với bên ngoài (bàn phím, màn hình).</p>
                    <h2>2. Chu kỳ máy (Machine Cycle)</h2>
                    <p>CPU lặp lại 3 bước để thực thi chương trình: <strong>Fetch</strong> (Nạp lệnh) → <strong>Decode</strong> (Giải mã lệnh) → <strong>Execute</strong> (Thực thi lệnh).</p>
                    <h2>3. Cấu trúc và liên kết</h2>
                    <p><strong>Tháp phân cấp bộ nhớ (Memory Hierarchy):</strong> <span class="highlight">CPU Registers (nhanh nhất) → Cache → Main Memory → Secondary Storage (chậm nhất)</span>.</p>
                    <p><strong>Liên kết bằng Bus:</strong></p>
                    <ul>
                        <li><strong class="highlight">Data Bus:</strong> Truyền dữ liệu.</li>
                        <li><strong class="highlight">Address Bus:</strong> Truyền địa chỉ.</li>
                        <li><strong class="highlight">Control Bus:</strong> Truyền tín hiệu điều khiển.</li>
                    </ul>
                    <p><strong>Đồng bộ CPU và I/O:</strong> Programmed I/O, <strong class="highlight">Interrupt-driven I/O</strong>, DMA (Direct Memory Access).</p>
                    <h2>4. Kiến trúc và hiệu năng</h2>
                    <ul>
                        <li><strong>CISC (phức tạp)</strong> vs <strong>RISC (đơn giản, nhanh)</strong>.</li>
                        <li><strong>Pipelining:</strong> Gối đầu các bước của chu kỳ máy để tăng tốc.</li>
                        <li><strong>Parallel Processing:</strong> Xử lý nhiều luồng lệnh đồng thời.</li>
                    </ul>
                `
            },
            en: {
                tab: "Ch.5: Arch",
                title: "Chapter 5: Computer Organization",
                content: `
                    <h2>1. Three Subsystems</h2>
                    <p><strong>CPU (Central Processing Unit):</strong> The "brain," comprising the <span class="highlight">ALU, control unit, and registers</span>.
                    <br>Key Registers: <strong>PC (Program Counter)</strong> points to the next instruction, <strong>IR (Instruction Register)</strong> holds the current instruction.</p>
                    <p><strong>Main Memory:</strong> Includes RAM (volatile) and ROM (non-volatile).</p>
                    <p><strong>I/O System:</strong> Interfaces with the outside world (keyboard, monitor).</p>
                    <h2>2. Machine Cycle</h2>
                    <p>The CPU repeatedly performs 3 steps to execute a program: <strong>Fetch</strong> → <strong>Decode</strong> → <strong>Execute</strong>.</p>
                    <h2>3. Structure and Interconnection</h2>
                    <p><strong>Memory Hierarchy:</strong> <span class="highlight">CPU Registers (fastest) → Cache → Main Memory → Secondary Storage (slowest)</span>.</p>
                    <p><strong>Interconnection via Bus:</strong></p>
                    <ul>
                        <li><strong class="highlight">Data Bus:</strong> Transmits data.</li>
                        <li><strong class="highlight">Address Bus:</strong> Transmits addresses.</li>
                        <li><strong class="highlight">Control Bus:</strong> Transmits control signals.</li>
                    </ul>
                    <p><strong>CPU and I/O Synchronization:</strong> Programmed I/O, <strong class="highlight">Interrupt-driven I/O</strong>, DMA (Direct Memory Access).</p>
                    <h2>4. Architecture and Performance</h2>
                    <ul>
                        <li><strong>CISC (complex)</strong> vs. <strong>RISC (simple, fast)</strong>.</li>
                        <li><strong>Pipelining:</strong> Overlaps the steps of the machine cycle to increase speed.</li>
                        <li><strong>Parallel Processing:</strong> Executes multiple instruction streams simultaneously.</li>
                    </ul>
                `
            }
        },
        { // Chapter 6
            vi: {
                tab: "Ch.6: Mạng",
                title: "Chương 6: Mạng Máy tính và Internet",
                content: `
                    <h2>1. Tổng quan về Mạng và Internet</h2>
                    <p><strong>Mạng LAN (cục bộ) vs Mạng WAN (diện rộng).</strong> Internet là một mạng liên kết toàn cầu.</p>
                    <p>Hoạt động dựa trên bộ giao thức <strong class="highlight">TCP/IP</strong>.</p>
                    <h2>2. Bộ giao thức TCP/IP (5 lớp)</h2>
                    <ol>
                        <li><strong>Lớp Ứng dụng:</strong> Cung cấp dịch vụ cho người dùng.
                            <ul>
                                <li>Mô hình: <strong>Client-Server</strong>, <strong>Peer-to-Peer (P2P)</strong>.</li>
                                <li>Giao thức: <strong>HTTP</strong> (Web), <strong>FTP</strong> (Tệp), <strong>DNS</strong> (Tên miền).</li>
                            </ul>
                        </li>
                        <li><strong>Lớp Giao vận:</strong> Giao tiếp từ tiến trình-đến-tiến trình qua <span class="highlight">số hiệu cổng (port number)</span>.
                            <ul>
                                <li><strong class="highlight">TCP:</strong> Hướng kết nối, đáng tin cậy.</li>
                                <li><strong class="highlight">UDP:</strong> Không kết nối, nhanh.</li>
                            </ul>
                        </li>
                        <li><strong>Lớp Mạng:</strong> Chuyển gói tin từ máy nguồn đến máy đích (host-to-host). Chức năng chính: <span class="highlight">định tuyến (routing)</span>. Giao thức: <strong>IP (IPv4, IPv6)</strong>.</li>
                        <li><strong>Lớp Liên kết dữ liệu:</strong> Truyền dữ liệu giữa các nút kề nhau (node-to-node).
                            <ul>
                                <li>LAN: <strong>Ethernet</strong> (có dây), <strong>WiFi, Bluetooth</strong> (không dây).</li>
                                <li>WAN: <strong>DSL, Cáp quang</strong> (có dây), <strong>Cellular, Vệ tinh</strong> (không dây).</li>
                            </ul>
                        </li>
                        <li><strong>Lớp Vật lý:</strong> Truyền bit qua môi trường vật lý (có hướng như cáp và không có hướng như sóng radio).</li>
                    </ol>
                `
            },
            en: {
                tab: "Ch.6: Network",
                title: "Chapter 6: Computer Networks & Internet",
                content: `
                    <h2>1. Network and Internet Overview</h2>
                    <p><strong>LAN (Local) vs. WAN (Wide Area).</strong> The Internet is a global interconnection of networks.</p>
                    <p>Operates based on the <strong class="highlight">TCP/IP</strong> protocol suite.</p>
                    <h2>2. The TCP/IP Suite (5 Layers)</h2>
                    <ol>
                        <li><strong>Application Layer:</strong> Provides services to the user.
                            <ul>
                                <li>Models: <strong>Client-Server</strong>, <strong>Peer-to-Peer (P2P)</strong>.</li>
                                <li>Protocols: <strong>HTTP</strong> (Web), <strong>FTP</strong> (File), <strong>DNS</strong> (Domain Name).</li>
                            </ul>
                        </li>
                        <li><strong>Transport Layer:</strong> Handles process-to-process communication via <span class="highlight">port numbers</span>.
                            <ul>
                                <li><strong class="highlight">TCP:</strong> Connection-oriented, reliable.</li>
                                <li><strong class="highlight">UDP:</strong> Connectionless, fast.</li>
                            </ul>
                        </li>
                        <li><strong>Network Layer:</strong> Moves packets from source to destination (host-to-host). Main function: <span class="highlight">routing</span>. Protocol: <strong>IP (IPv4, IPv6)</strong>.</li>
                        <li><strong>Data Link Layer:</strong> Transmits data between adjacent nodes (node-to-node).
                            <ul>
                                <li>LAN: <strong>Ethernet</strong> (wired), <strong>WiFi, Bluetooth</strong> (wireless).</li>
                                <li>WAN: <strong>DSL, Fiber Optics</strong> (wired), <strong>Cellular, Satellite</strong> (wireless).</li>
                            </ul>
                        </li>
                        <li><strong>Physical Layer:</strong> Transmits bits over a physical medium (guided like cables or unguided like radio waves).</li>
                    </ol>
                `
            }
        }
    ];
    
    // --- SCRIPT LOGIC ---
    let currentChapter = 0;
    let currentLang = 'vi';

    const tabContainerEl = document.getElementById('tab-container');
    const contentEl = document.getElementById('chapter-content');
    const mainTitleEl = document.getElementById('main-title');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const langToggleBtn = document.getElementById('lang-toggle');

    function createTabs() {
        tabContainerEl.innerHTML = '';
        chapters.forEach((chapter, index) => {
            const tabBtn = document.createElement('button');
            tabBtn.className = 'tab-btn';
            if (index === currentChapter) tabBtn.classList.add('active');
            tabBtn.textContent = chapter[currentLang].tab;
            tabBtn.setAttribute('data-index', index);
            tabBtn.addEventListener('click', () => {
                currentChapter = index;
                render();
            });
            tabContainerEl.appendChild(tabBtn);
        });
    }

    function renderChapter() {
        const chapterData = chapters[currentChapter][currentLang];
        contentEl.innerHTML = `<h2>${chapterData.title}</h2>` + chapterData.content;
        updateNavButtons();
    }
    
    function updateNavButtons() {
        prevBtn.disabled = currentChapter === 0;
        nextBtn.disabled = currentChapter === chapters.length - 1;
    }

    function updateActiveTab() {
        const tabs = document.querySelectorAll('.tab-btn');
        tabs.forEach((tab, index) => {
            tab.classList.toggle('active', index === currentChapter);
        });
    }
    
    function render() {
        renderChapter();
        updateActiveTab();
    }

    function toggleLanguage() {
        currentLang = currentLang === 'vi' ? 'en' : 'vi';
        
        if (currentLang === 'vi') {
            mainTitleEl.textContent = 'Ôn tập CSI';
            langToggleBtn.textContent = 'English';
            prevBtn.textContent = 'Chương trước';
            nextBtn.textContent = 'Chương tiếp';
        } else {
            mainTitleEl.textContent = 'CSI Review';
            langToggleBtn.textContent = 'Tiếng Việt';
            prevBtn.textContent = 'Previous';
            nextBtn.textContent = 'Next';
        }
        
        createTabs();
        render();
    }
    
    nextBtn.addEventListener('click', () => {
        if (currentChapter < chapters.length - 1) {
            currentChapter++;
            render();
        }
    });
    
    prevBtn.addEventListener('click', () => {
        if (currentChapter > 0) {
            currentChapter--;
            render();
        }
    });
    
    langToggleBtn.addEventListener('click', toggleLanguage);

    // Initial Load
    createTabs();
    render();
</script>
</body>
</html>
