<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ôn tập Khoa học Máy tính Toàn diện</title>
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #f8f9fa;
            --text-color: #333;
            --border-color: #ddd;
            --highlight-bg: #fffbe6;
            --code-bg: #e9e9e9;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: #f4f4f4;
            margin: 0;
            padding: 15px;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: var(--secondary-color);
            border-bottom: 1px solid var(--border-color);
        }
        .header h1 {
            margin: 0;
            font-size: 1.4em;
            color: var(--primary-color);
        }
        .tab-container {
            display: flex;
            flex-wrap: wrap;
            background-color: var(--secondary-color);
            padding: 10px 10px 0 10px;
            border-bottom: 1px solid var(--border-color);
        }
        .tab-btn {
            padding: 10px 15px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 0.95em;
            border-bottom: 3px solid transparent;
            margin-right: 5px;
            margin-bottom: -1px; /* Overlap the container border */
        }
        .tab-btn.active {
            font-weight: bold;
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
        }
        .content-wrapper { padding: 5px 25px 20px; }
        .content-wrapper h2 {
            font-size: 1.3em;
            color: #333;
            margin-top: 1.5em;
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
        }
        .content-wrapper h3 { font-size: 1.1em; color: var(--primary-color); margin-top: 1.5em;}
        .content-wrapper p, .content-wrapper ul { margin-bottom: 1em; }
        ul { padding-left: 20px; }
        li { margin-bottom: 0.5em; }
        strong { color: var(--primary-color); }
        .highlight {
            background-color: var(--highlight-bg);
            padding: 2px 5px;
            border-radius: 4px;
        }
        code {
            background-color: var(--code-bg);
            font-family: 'Courier New', Courier, monospace;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        .practice-box {
            background-color: #eef7ff;
            border: 1px solid #cce5ff;
            border-left: 5px solid var(--primary-color);
            border-radius: 5px;
            padding: 15px;
            margin-top: 25px;
        }
        .practice-box h3 {
            margin-top: 0;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            padding: 20px 25px;
            border-top: 1px solid var(--border-color);
            background-color: var(--secondary-color);
        }
        .btn {
            padding: 10px 20px;
            border: none;
            background-color: #6c757d;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease;
        }
        .btn:hover { background-color: #5a6268; }
        .btn:disabled { background-color: #cccccc; cursor: not-allowed; }
        #lang-toggle { background-color: #28a745; }
        #lang-toggle:hover { background-color: #218838; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 id="main-title">Ôn tập CSI</h1>
            <button id="lang-toggle" class="btn">English</button>
        </div>

        <div id="tab-container" class="tab-container"></div>
        <div id="chapter-content" class="content-wrapper"></div>

        <div class="navigation">
            <button id="prev-btn" class="btn">Chương trước</button>
            <button id="next-btn" class="btn">Chương tiếp</button>
        </div>
    </div>

<script>
    const chapters = [
        { // Chapter 1 - UPDATED
            vi: {
                tab: "Ch.1: Tổng quan",
                title: "Chương 1: Giới thiệu Khoa học Máy tính",
                content: `
                    <h3>Mô hình Turing</h3>
                    <p>Được đề xuất bởi Alan Turing (1936), là mô hình lý thuyết định nghĩa máy tính là một <strong class="highlight">bộ xử lý dữ liệu có thể lập trình được</strong>.</p>
                    <ul>
                        <li><strong>Máy Turing Phổ quát (Universal Turing Machine):</strong> Một máy tính có thể thực hiện bất kỳ phép tính nào nếu được cung cấp đủ dữ liệu và chương trình.</li>
                        <li><strong>Khái niệm Hộp đen:</strong> <code>Input → Xử lý → Output</code>.</li>
                        <li><strong>Sự đột phá:</strong> Kết quả (Output) phụ thuộc vào cả <strong>Input</strong> và <strong>Chương trình</strong>. <br><code>Cùng Input, khác Chương trình → Khác Output</code>.</li>
                    </ul>
                    <h3>Mô hình Von Neumann</h3>
                    <p>Mô hình kiến trúc thực tế do John von Neumann đề xuất (1944-1945), là nền tảng của hầu hết máy tính hiện đại.</p>
                    <ul>
                        <li><strong>Khái niệm đột phá:</strong> <strong class="highlight">Chương trình được lưu trữ (Stored-Program Concept)</strong>, tức là cả lệnh và dữ liệu đều được lưu trong bộ nhớ dưới dạng nhị phân.</li>
                        <li><strong>Bốn hệ thống con phần cứng:</strong>
                            <ol>
                                <li><strong>Bộ nhớ (Memory):</strong> Lưu trữ chương trình và dữ liệu.</li>
                                <li><strong>Bộ số học & logic (ALU):</strong> Thực hiện phép tính toán và logic.</li>
                                <li><strong>Đơn vị điều khiển (Control Unit):</strong> Điều khiển hoạt động của các thành phần khác.</li>
                                <li><strong>Hệ thống I/O:</strong> Giao tiếp với bên ngoài (chấp nhận input, xuất output, lưu trữ thứ cấp như đĩa cứng).</li>
                            </ol>
                        </li>
                        <li><strong>Thực thi tuần tự:</strong> Các chỉ thị được thực thi một cách tuần tự (Nạp → Giải mã → Thực thi).</li>
                    </ul>
                    <h3>Các thành phần máy tính</h3>
                    <ul>
                        <li><strong>Phần cứng (Hardware):</strong> Các thành phần vật lý.</li>
                        <li><strong>Dữ liệu (Data):</strong> Thông tin thô được chuyển đổi và lưu dưới dạng chuỗi bit (0 và 1).</li>
                        <li><strong>Phần mềm (Software):</strong> Gồm các chương trình. Một chương trình là tập hợp các chỉ thị (thuật toán) để giải quyết một vấn đề, được viết bằng một <strong>ngôn ngữ lập trình</strong>.</li>
                    </ul>
                    <h3>Lịch sử Máy tính</h3>
                    <ul>
                        <li><strong>Máy cơ khí:</strong> Máy Pascaline (Pascal), Bánh xe Leibniz (Leibniz), Máy dệt (Jacquard), Động cơ Phân tích (Babbage).</li>
                        <li><strong>Máy tính điện tử (Chương trình bên ngoài):</strong> ABC, Z1, Mark I, Colossus.</li>
                        <li><strong>Thế hệ máy tính (dựa trên công nghệ):</strong>
                            <ol>
                                <li><strong>Thế hệ 1 (1950-59):</strong> <span class="highlight">Đèn chân không</span>. Máy tính thương mại ra đời (ENIAC, EDVAC).</li>
                                <li><strong>Thế hệ 2 (1959-65):</strong> <span class="highlight">Bóng bán dẫn (Transistor)</span>. Máy nhỏ, rẻ hơn, ngôn ngữ lập trình cấp cao xuất hiện (FORTRAN, COBOL).</li>
                                <li><strong>Thế hệ 3 (1965-75):</strong> <span class="highlight">Mạch tích hợp (IC)</span>. Máy tính mini ra đời, có gói phần mềm và hệ điều hành.</li>
                                <li><strong>Thế hệ 4 (1975-85):</strong> <span class="highlight">Bộ vi xử lý</span>. Kỷ nguyên máy tính cá nhân (PC) bắt đầu.</li>
                                <li><strong>Thế hệ 5 (1985-nay):</strong> Máy tính xách tay, đa phương tiện, mạng máy tính, AI.</li>
                            </ol>
                        </li>
                    </ul>
                `
            }
        },
        { // Chapter 2 - UPDATED
            vi: {
                tab: "Ch.2: Hệ số",
                title: "Chương 2: Hệ Thống Số",
                content: `
                    <h3>Hệ thống số theo vị trí (Positional)</h3>
                    <p>Giá trị của một chữ số phụ thuộc vào vị trí của nó. Bao gồm cả <strong>phần nguyên</strong> (lũy thừa không âm của cơ số) và <strong>phần phân số</strong> (lũy thừa âm).</p>
                    <p><strong>Giá trị lớn nhất</strong> có thể biểu diễn với K chữ số trong cơ số b là <code>N_max = b^K - 1</code>.</p>
                    <h3>Các hệ đếm quan trọng</h3>
                    <ul>
                        <li><strong>Nhị phân (Binary - Base 2):</strong> Dùng 0, 1. Quan trọng nhất với máy tính.</li>
                        <li><strong>Thập lục phân (Hexadecimal - Base 16):</strong> Dùng 0-9, A-F. Mục đích chính là <span class="highlight">biểu diễn chuỗi nhị phân dài một cách ngắn gọn</span>.</li>
                        <li><strong>Bát phân (Octal - Base 8):</strong> Dùng 0-7.</li>
                    </ul>
                    <h3>Hệ thống số không theo vị trí (Non-positional)</h3>
                    <p>Ví dụ điển hình là <strong>Số La Mã</strong>. Đặc điểm:</p>
                    <ul>
                        <li>Các ký hiệu có giá trị cố định (I=1, V=5, X=10, L=50, C=100, D=500, M=1000).</li>
                        <li>Sử dụng quy tắc <strong>cộng</strong> (VD: <code>VI = 6</code>) và <strong>trừ</strong> (VD: <code>IV = 4</code>).</li>
                        <li>Không có ký hiệu cho số 0.</li>
                    </ul>
                    <div class="practice-box">
                        <h3>Ví dụ Tính toán Chuyển đổi Cơ số</h3>
                        <p><strong>Ví dụ 1: Chuyển <code>(6A.4)₁₆</code> sang hệ 10.</strong></p>
                        <p>Giá trị = (6 * 16¹) + (10 * 16⁰) + (4 * 16⁻¹)<br>
                           = 96 + 10 + 4/16 = <strong>106.25₁₀</strong>.</p>

                        <p><strong>Ví dụ 2: Chuyển <code>25.125₁₀</code> sang hệ 2.</strong></p>
                        <ul>
                            <li><strong>Phần nguyên (25):</strong> Chia 2 liên tiếp được <code>11001₂</code>.</li>
                            <li><strong>Phần phân số (0.125):</strong> Nhân 2 liên tiếp:
                                <ul>
                                    <li>0.125 * 2 = <strong>0</strong>.25</li>
                                    <li>0.25 * 2 = <strong>0</strong>.5</li>
                                    <li>0.5 * 2 = <strong>1</strong>.0 → Dừng.</li>
                                </ul>
                                Đọc từ trên xuống: <code>.001₂</code>
                            </li>
                        </ul>
                        <p>Kết quả: <strong><code>11001.001₂</code></strong>.</p>
                        
                        <p><strong>Ví dụ 3: Chuyển <code>(173)₈</code> sang hệ 16.</strong></p>
                        <p>Sử dụng <span class="highlight">nhị phân làm trung gian</span>:</p>
                        <ol>
                            <li><strong>Octal → Binary:</strong> Tách từng chữ số thành 3 bit.
                                <ul>
                                    <li>1 → <code>001</code>, 7 → <code>111</code>, 3 → <code>011</code>.</li>
                                    <li>Ghép lại: <code>001111011₂</code>.</li>
                                </ul>
                            </li>
                            <li><strong>Binary → Hexadecimal:</strong> Nhóm 4 bit từ phải qua trái.
                                <ul>
                                    <li><code>0111</code> → 7, <code>0111</code> → F. Thêm 3 số 0 để đủ nhóm: <code>0000 0111 1011</code>.</li>
                                     <li>Nhóm lại: <code>(0)011 1101 1...</code>. Sửa: <code>(0)111 1011</code> -> `7` và `B`</li>
                                     <li>Đúng: <code>(00)1 1110 11</code> -> <code>0011 1101 1...</code> Sai. Nhóm lại từ phải: `011` và `111` và `001`. Nhóm lại 4: <code>...001111011</code> -> <code>011</code> , <code>1111</code>, `0` -> <code>3F1</code> Sai. 
                                     Phải là <code>001 111 011</code>. Nhóm 4 từ phải: <code>(0)111 1011</code> => <code>7B</code>.</li>

                                </ul>
                                    Sửa lại cho đúng:
                                    <br>Chuỗi nhị phân là: <code>001111011</code>
                                    <br>Nhóm 4 bit từ phải sang trái: <code>1011</code> và <code>0111</code> và <code>0</code>.
                                    <br><code>1011</code> là <code>B₁₆</code>. <code>0111</code> là <code>7₁₆</code>.
                                    <br>Kết quả là <strong><code>7B₁₆</code></strong>.
                            </li>
                        </ol>
                    </div>
                `
            }
        },
        { // Chapter 3 - UPDATED
            vi: {
                tab: "Ch.3: Lưu trữ",
                title: "Chương 3: Lưu trữ Dữ liệu",
                content: `
                    <h3>Biểu diễn dữ liệu</h3>
                    <p>Tất cả dữ liệu (số, văn bản, video...) đều được lưu trữ dưới dạng một chuỗi các bit, gọi là <strong class="highlight">mẫu bit (bit pattern)</strong>. Các đơn vị cơ bản:</p>
                    <ul>
                        <li><strong>Bit (Binary Digit):</strong> Đơn vị nhỏ nhất, có giá trị 0 hoặc 1.</li>
                        <li><strong>Byte:</strong> Một nhóm 8 bit.</li>
                        <li><strong>Word:</strong> Một nhóm nhiều byte (vd: 16, 32, 64 bit), tùy thuộc kiến trúc máy tính.</li>
                    </ul>
                    <h3>Lưu trữ Số Nguyên (Integers)</h3>
                    <ul>
                        <li><strong>Không dấu (Unsigned):</strong> Chỉ biểu diễn số dương và 0. Phạm vi từ <code>0</code> đến <code>2^n - 1</code>. Có thể xảy ra <strong>tràn số (overflow)</strong>.</li>
                        <li><strong>Có dấu (Signed):</strong>
                            <ul>
                                <li><strong>Dấu và Độ lớn (Sign-and-Magnitude):</strong> Bit đầu làm bit dấu. Nhược điểm: có 2 biểu diễn cho số 0.</li>
                                <li><strong>Bù Hai (Two's Complement):</strong> Phương pháp chuẩn, khắc phục nhược điểm trên. Cách tìm: Đảo bit (Bù 1) rồi cộng 1.</li>
                            </ul>
                        </li>
                    </ul>
                    <h3>Lưu trữ Số thực (Reals) - Chuẩn IEEE 754</h3>
                    <p>Dựa trên ký pháp khoa học và <span class="highlight">chuẩn hóa</span> số nhị phân về dạng <code>1.xxxxx * 2^n</code>. Gồm:</p>
                    <ul>
                        <li><strong>Độ chính xác đơn (Single Precision - 32 bit):</strong> 1 bit dấu, 8 bit số mũ (lệch 127), 23 bit phần định trị.</li>
                        <li><strong>Độ chính xác kép (Double Precision - 64 bit):</strong> 1 bit dấu, 11 bit số mũ (lệch 1023), 52 bit phần định trị.</li>
                        <li>Lưu ý: Có thể gặp các lỗi như <strong>Tràn số (Overflow/Underflow)</strong> và <strong>Lỗi cắt cụt (Truncation Errors)</strong>.</li>
                    </ul>
                    <h3>Lưu trữ các loại dữ liệu khác</h3>
                    <ul>
                        <li><strong>Văn bản:</strong> Dùng bảng mã <strong>ASCII</strong> (8 bit, là một phần của Unicode) hoặc <strong>Unicode</strong> (16/32 bit, chuẩn quốc tế).</li>
                        <li><strong>Âm thanh:</strong> Số hóa qua 3 bước: <strong>Lấy mẫu (Sampling)</strong>, <strong>Lượng tử hóa (Quantization)</strong>, và <strong>Mã hóa (Encoding)</strong>. Tốc độ bit = Tốc độ lấy mẫu × Độ sâu bit.</li>
                        <li><strong>Hình ảnh:</strong>
                            <ul>
                                <li><strong>Raster (Bitmap) (JPEG, GIF):</strong> Dưới dạng lưới pixel. Chất lượng phụ thuộc <strong>Độ phân giải</strong> và <strong>Độ sâu màu</strong> (True-Color 24-bit hoặc Indexed Color 8-bit).</li>
                                <li><strong>Vector (SVG, AI):</strong> Dưới dạng công thức toán học. Không vỡ hình khi phóng to.</li>
                            </ul>
                        </li>
                        <li><strong>Video (MPEG, AVI):</strong> Một chuỗi các hình ảnh (frames), thường được nén mất mát (lossy compression).</li>
                    </ul>
                `
            }
        },
        { // Chapter 4 - UPDATED
            vi: {
                tab: "Ch.4: Thao tác",
                title: "Chương 4: Các Thao tác trên Dữ liệu",
                content: `
                    <h3>Thao tác Logic (Logic Operations)</h3>
                    <p>Xử lý trên từng bit riêng lẻ hoặc trên toàn bộ mẫu bit.</p>
                    <ul>
                        <li><strong>NOT:</strong> Đảo bit (Phép Bù Một).</li>
                        <li><strong>AND:</strong> Kết quả là 1 CHỈ KHI cả hai bit là 1. Tính chất: <code>X AND 0 = 0</code>.</li>
                        <li><strong>OR (Inclusive-OR):</strong> Kết quả là 0 CHỈ KHI cả hai bit là 0. Tính chất: <code>X OR 1 = 1</code>.</li>
                        <li><strong>XOR (Exclusive-OR):</strong> Kết quả là 1 CHỈ KHI hai bit khác nhau. Tính chất: <code>X XOR 1 = NOT X</code> (lật bit).</li>
                    </ul>
                    <p><strong>Ứng dụng:</strong> Dùng <strong class="highlight">mặt nạ (Mask)</strong> để bật (Set - OR), tắt (Unset - AND), hoặc đảo (Flip - XOR) các bit cụ thể.</p>
                    <h3>Thao tác Dịch chuyển (Shift Operations)</h3>
                    <ul>
                        <li><strong>Dịch chuyển Logic (Logical Shift):</strong> Áp dụng cho số không dấu. Bit bị đẩy ra ngoài sẽ mất, bit trống được chèn vào là 0.</li>
                        <li><strong>Dịch chuyển Vòng (Circular Shift / Rotate):</strong> Không có bit nào bị mất. Bit bị đẩy ra ở đầu này sẽ được chèn vào đầu kia.</li>
                        <li><strong>Dịch chuyển Số học (Arithmetic Shift):</strong> Áp dụng cho số có dấu (Bù 2) để <span class="highlight">nhân/chia nhanh cho 2</span>.
                            <ul>
                                <li><strong>Dịch phải (Chia 2):</strong> Bit dấu (bit trái nhất) được giữ lại và sao chép vào vị trí trống.</li>
                                <li><strong>Dịch trái (Nhân 2):</strong> Chèn bit 0 vào bên phải. Cần <span class="highlight">kiểm tra tràn số</span> nếu bit dấu bị thay đổi.</li>
                            </ul>
                        </li>
                    </ul>
                    <div class="practice-box">
                        <h3>Ví dụ Tính toán</h3>
                        <p><strong>Ví dụ 1: Tắt 4 bit bên trái của chuỗi <code>10110101</code>.</strong></p>
                        <p>Dùng phép <strong>AND</strong> với mặt nạ <code>00001111</code> (bit 0 ở vị trí cần tắt).</p>
                        <code>
                            &nbsp;&nbsp;10110101 (Data)<br>
                            & 00001111 (Mask)<br>
                            ------------<br>
                            &nbsp;&nbsp;<strong>00000101</strong> (Result)
                        </code>
                        <p><strong>Ví dụ 2: Dịch chuyển vòng phải (Right Rotate) chuỗi <code>11001010</code> 1 vị trí.</strong></p>
                        <p>Bit phải nhất (<code>0</code>) sẽ được chuyển lên vị trí trái nhất.</p>
                        <p><code>11001010</code> → <strong><code>01100101</code></strong></p>
                    </div>
                `
            }
        },
        { // Chapter 5
            vi: {
                tab: "Ch.5: Tổ chức",
                title: "Chương 5: Tổ chức Máy tính",
                content: `
                    <h2>1. Ba hệ thống con</h2>
                    <p><strong>CPU (Central Processing Unit):</strong> "Bộ não" gồm <span class="highlight">ALU, bộ điều khiển và các thanh ghi</span>.
                    <br>Thanh ghi quan trọng: <strong>PC (Program Counter)</strong> trỏ tới lệnh tiếp theo, <strong>IR (Instruction Register)</strong> chứa lệnh hiện tại.</p>
                    <p><strong>Bộ nhớ chính (Main Memory):</strong> Gồm RAM (khả biến) và ROM (bất biến).</p>
                    <p><strong>Hệ thống I/O:</strong> Giao tiếp với bên ngoài (bàn phím, màn hình).</p>
                    <h2>2. Chu kỳ máy (Machine Cycle)</h2>
                    <p>CPU lặp lại 3 bước để thực thi chương trình: <strong>Fetch</strong> (Nạp lệnh) → <strong>Decode</strong> (Giải mã lệnh) → <strong>Execute</strong> (Thực thi lệnh).</p>
                    <h2>3. Cấu trúc và liên kết</h2>
                    <p><strong>Tháp phân cấp bộ nhớ (Memory Hierarchy):</strong> <span class="highlight">CPU Registers (nhanh nhất) → Cache → Main Memory → Secondary Storage (chậm nhất)</span>.</p>
                    <p><strong>Liên kết bằng Bus:</strong></p>
                    <ul>
                        <li><strong class="highlight">Data Bus:</strong> Truyền dữ liệu.</li>
                        <li><strong class="highlight">Address Bus:</strong> Truyền địa chỉ.</li>
                        <li><strong class="highlight">Control Bus:</strong> Truyền tín hiệu điều khiển.</li>
                    </ul>
                    <p><strong>Đồng bộ CPU và I/O:</strong> Programmed I/O, <strong class="highlight">Interrupt-driven I/O</strong>, DMA (Direct Memory Access).</p>
                    <h2>4. Kiến trúc và hiệu năng</h2>
                    <ul>
                        <li><strong>CISC (phức tạp)</strong> vs <strong>RISC (đơn giản, nhanh)</strong>.</li>
                        <li><strong>Pipelining:</strong> Gối đầu các bước của chu kỳ máy để tăng tốc.</li>
                        <li><strong>Parallel Processing:</strong> Xử lý nhiều luồng lệnh đồng thời.</li>
                    </ul>
                `
            }
        },
        { // Chapter 6
            vi: {
                tab: "Ch.6: Mạng",
                title: "Chương 6: Mạng Máy tính và Internet",
                content: `
                    <h2>1. Tổng quan về Mạng và Internet</h2>
                    <p><strong>Mạng LAN (cục bộ) vs Mạng WAN (diện rộng).</strong> Internet là một mạng liên kết toàn cầu.</p>
                    <p>Hoạt động dựa trên bộ giao thức <strong class="highlight">TCP/IP</strong>.</p>
                    <h2>2. Bộ giao thức TCP/IP (5 lớp)</h2>
                    <ol>
                        <li><strong>Lớp Ứng dụng:</strong> Cung cấp dịch vụ cho người dùng.
                            <ul>
                                <li>Mô hình: <strong>Client-Server</strong>, <strong>Peer-to-Peer (P2P)</strong>.</li>
                                <li>Giao thức: <strong>HTTP</strong> (Web), <strong>FTP</strong> (Tệp), <strong>DNS</strong> (Tên miền).</li>
                            </ul>
                        </li>
                        <li><strong>Lớp Giao vận:</strong> Giao tiếp từ tiến trình-đến-tiến trình qua <span class="highlight">số hiệu cổng (port number)</span>.
                            <ul>
                                <li><strong class="highlight">TCP:</strong> Hướng kết nối, đáng tin cậy.</li>
                                <li><strong class="highlight">UDP:</strong> Không kết nối, nhanh.</li>
                            </ul>
                        </li>
                        <li><strong>Lớp Mạng:</strong> Chuyển gói tin từ máy nguồn đến máy đích (host-to-host). Chức năng chính: <span class="highlight">định tuyến (routing)</span>. Giao thức: <strong>IP (IPv4, IPv6)</strong>.</li>
                        <li><strong>Lớp Liên kết dữ liệu:</strong> Truyền dữ liệu giữa các nút kề nhau (node-to-node).
                            <ul>
                                <li>LAN: <strong>Ethernet</strong> (có dây), <strong>WiFi, Bluetooth</strong> (không dây).</li>
                                <li>WAN: <strong>DSL, Cáp quang</strong> (có dây), <strong>Cellular, Vệ tinh</strong> (không dây).</li>
                            </ul>
                        </li>
                        <li><strong>Lớp Vật lý:</strong> Truyền bit qua môi trường vật lý (có hướng như cáp và không có hướng như sóng radio).</li>
                    </ol>
                `
            }
        }
    ];

    // --- Fill in English Translations (abbreviated) ---
    const translations = [
        { tab: "Ch.1: Intro", title: "Chapter 1: Intro to CS"},
        { tab: "Ch.2: Numbers", title: "Chapter 2: Number Systems"},
        { tab: "Ch.3: Storage", title: "Chapter 3: Data Storage"},
        { tab: "Ch.4: Ops", title: "Chapter 4: Data Operations"},
        { tab: "Ch.5: Arch", title: "Chapter 5: Computer Organization"},
        { tab: "Ch.6: Network", title: "Chapter 6: Networking"}
    ];
    translations.forEach((t, i) => chapters[i].en = t);
    
    // --- SCRIPT LOGIC ---
    let currentChapter = 0;
    let currentLang = 'vi';

    const tabContainerEl = document.getElementById('tab-container');
    const contentEl = document.getElementById('chapter-content');
    const mainTitleEl = document.getElementById('main-title');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const langToggleBtn = document.getElementById('lang-toggle');

    function createTabs() {
        tabContainerEl.innerHTML = '';
        chapters.forEach((chapter, index) => {
            const tabBtn = document.createElement('button');
            tabBtn.className = 'tab-btn';
            if (index === currentChapter) tabBtn.classList.add('active');
            tabBtn.textContent = chapter[currentLang].tab;
            tabBtn.setAttribute('data-index', index);
            tabBtn.addEventListener('click', () => {
                currentChapter = index;
                render();
            });
            tabContainerEl.appendChild(tabBtn);
        });
    }

    function renderChapter() {
        const chapterData = chapters[currentChapter][currentLang];
        // Ensure content is not null/undefined before setting innerHTML
        contentEl.innerHTML = `<h2>${chapterData.title}</h2>` + (chapterData.content || '<p>Content not available in this language.</p>');
        updateNavButtons();
    }
    
    function updateNavButtons() {
        prevBtn.disabled = currentChapter === 0;
        nextBtn.disabled = currentChapter === chapters.length - 1;
    }

    function updateActiveTab() {
        const tabs = document.querySelectorAll('.tab-btn');
        tabs.forEach((tab, index) => {
            tab.classList.toggle('active', index === currentChapter);
        });
    }
    
    function render() {
        renderChapter();
        updateActiveTab();
    }

    function toggleLanguage() {
        currentLang = currentLang === 'vi' ? 'en' : 'vi';
        
        if (currentLang === 'vi') {
            mainTitleEl.textContent = 'Ôn tập CSI';
            langToggleBtn.textContent = 'English';
            prevBtn.textContent = 'Chương trước';
            nextBtn.textContent = 'Chương tiếp';
        } else {
            mainTitleEl.textContent = 'CSI Review';
            langToggleBtn.textContent = 'Tiếng Việt';
            prevBtn.textContent = 'Previous';
            nextBtn.textContent = 'Next';
        }
        
        createTabs();
        render();
    }
    
    nextBtn.addEventListener('click', () => {
        if (currentChapter < chapters.length - 1) {
            currentChapter++;
            render();
        }
    });
    
    prevBtn.addEventListener('click', () => {
        if (currentChapter > 0) {
            currentChapter--;
            render();
        }
    });
    
    langToggleBtn.addEventListener('click', toggleLanguage);

    createTabs();
    render();
</script>
</body>
</html>
