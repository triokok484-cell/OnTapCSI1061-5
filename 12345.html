<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sổ tay Ôn tập CSI Toàn diện</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f6f9;
            color: #212529;
            line-height: 1.7;
            margin: 0;
            padding: 20px;
        }
        .container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            width: 100%;
            max-width: 900px;
            margin: 20px auto;
            padding: 30px 40px;
        }
        h1 {
            color: #0d47a1;
            text-align: center;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 15px;
            margin-top: 0;
            font-size: 2em;
        }
        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            font-size: 1.1em;
            flex-wrap: wrap;
        }
        #chapter-select, #lang-toggle {
            padding: 12px 18px;
            border-radius: 8px;
            border: 1px solid #ced4da;
            font-size: 1em;
            background-color: #f8f9fa;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        #chapter-select:hover, #lang-toggle:hover {
            border-color: #007bff;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.25);
        }
        #lang-toggle {
            background-color: #28a745;
            color: white;
            border-color: #28a745;
            font-weight: 500;
        }
        #content-display {
            border-top: 1px solid #dee2e6;
            padding-top: 20px;
        }
        #content-display h3 {
            color: #0d47a1;
            font-size: 1.9em;
            margin-top: 10px;
            margin-bottom: 20px;
            border-bottom: 3px solid #1e88e5;
            padding-bottom: 8px;
            display: inline-block;
        }
        #content-display h4 {
            color: #1565c0;
            font-size: 1.5em;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #1e88e5;
            padding-left: 10px;
        }
         #content-display h5 {
            color: #0277bd;
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        #content-display ul {
            padding-left: 25px;
            list-style-type: disc;
        }
        #content-display li {
            margin-bottom: 12px;
        }
        #content-display strong {
            color: #d32f2f;
            font-weight: 600;
        }
        #content-display code {
            background-color: #e9ecef;
            padding: 3px 8px;
            border-radius: 5px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            font-size: 0.95em;
            color: #333;
        }
        .welcome-message {
            text-align: center;
            color: #6c757d;
            font-size: 1.2em;
            padding: 50px 20px;
        }
        .example {
            background-color: #f8f9fa;
            border-left: 4px solid #17a2b8;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            font-size: 1em;
            overflow-x: auto;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1 id="main-title">Sổ tay Ôn tập Lý thuyết CSI</h1>

        <div class="controls">
            <label for="chapter-select" id="select-label">Chọn chương để xem:</label>
            <select id="chapter-select">
                <option value="0" id="opt-0">--- Chọn một chương ---</option>
                <option value="1" id="opt-1">Chương 1: Tổng quan</option>
                <option value="2" id="opt-2">Chương 2: Hệ thống số</option>
                <option value="3" id="opt-3">Chương 3: Lưu trữ dữ liệu</option>
                <option value="4" id="opt-4">Chương 4: Các phép toán</option>
                <option value="5" id="opt-5">Chương 5: Tổ chức máy tính</option>
                <option value="6" id="opt-6">Chương 6: Mạng máy tính</option>
            </select>
            <button id="lang-toggle">Switch to English</button>
        </div>

        <div id="content-display">
            <div class="welcome-message">
                <p id="welcome-p1">Hãy chọn một chương từ menu bên trên để bắt đầu ôn tập.</p>
                <p id="welcome-p2">Chúc bạn thi tốt!</p>
            </div>
        </div>
    </div>

    <script>
        // --- DATA TIẾNG VIỆT ---
        const theoryDataVI = {
            "0": `<div class="welcome-message"><p>Hãy chọn một chương từ menu bên trên để bắt đầu ôn tập.</p><p>Nội dung lý thuyết chi tiết sẽ được hiển thị ở đây.</p></div>`,
            "1": `
                <h3>Chương 1: Giới thiệu về Khoa học Máy tính</h3>
                <h4>1. Hai Mô hình Nền tảng</h4>
                <ul>
                    <li><strong>Mô hình Turing:</strong> Định nghĩa máy tính là một <strong>"bộ xử lý dữ liệu có thể lập trình được"</strong>. Nền tảng cho máy tính đa năng, nơi kết quả phụ thuộc vào cả <strong>dữ liệu đầu vào</strong> và <strong>chương trình</strong>. Công thức: <code>Input + Program → Computer → Output</code>.</li>
                    <li><strong>Mô hình von Neumann:</strong> Là kiến trúc thực tế của hầu hết máy tính hiện đại.
                        <ul>
                            <li>Điểm đột phá: <strong>Khái niệm chương trình được lưu trữ (Stored-Program Concept)</strong>, tức là cả chương trình và dữ liệu đều được lưu chung trong bộ nhớ dưới dạng nhị phân.</li>
                            <li><strong>Bốn khối chức năng:</strong>
                                <ol>
                                    <li><strong>Bộ nhớ (Memory):</strong> Lưu trữ chương trình và dữ liệu.</li>
                                    <li><strong>Đơn vị Số học & Logic (ALU):</strong> Thực hiện các phép toán.</li>
                                    <li><strong>Đơn vị Điều khiển (Control Unit):</strong> "Bộ não" điều khiển mọi hoạt động.</li>
                                    <li><strong>Thiết bị Vào/Ra (I/O):</strong> Giao tiếp với thế giới bên ngoài.</li>
                                </ol>
                            </li>
                        </ul>
                    </li>
                </ul>
                <h4>2. Ba Thành phần Cấu thành Máy tính</h4>
                <ul>
                    <li><strong>Phần cứng (Hardware):</strong> Các thành phần vật lý (CPU, RAM, ...).</li>
                    <li><strong>Dữ liệu (Data):</strong> Thông tin thô, được lưu trữ dưới dạng nhị phân (0 và 1).</li>
                    <li><strong>Phần mềm (Software):</strong> Là các chương trình (tập hợp các chỉ thị) hướng dẫn phần cứng xử lý dữ liệu.</li>
                </ul>
                <h4>3. Lịch sử Phát triển</h4>
                <ul>
                    <li><strong>Giai đoạn cơ khí (Trước 1930):</strong> Máy Pascaline, Máy tính Phân tích của Babbage.</li>
                    <li><strong>Khai sinh máy tính điện tử (1930 - 1950):</strong> Sử dụng bóng đèn chân không (ENIAC, EDVAC).</li>
                    <li><strong>Các thế hệ hiện đại:</strong>
                        <ul>
                            <li><strong>Gen 1 (1950s):</strong> Bóng đèn chân không.</li>
                            <li><strong>Gen 2 (1959-1965):</strong> Bóng bán dẫn (Transistor) - nhỏ hơn, nhanh hơn.</li>
                            <li><strong>Gen 3 (1965-1975):</strong> Mạch tích hợp (IC) - nhiều transistor trên một chip.</li>
                            <li><strong>Gen 4 (1975-1985):</strong> Vi xử lý (Microprocessor) - CPU trên một chip, khởi đầu PC.</li>
                            <li><strong>Gen 5 (1985-nay):</strong> Xử lý song song, AI, mạng máy tính.</li>
                        </ul>
                    </li>
                </ul>
            `,
            "2": `
                <h3>Chương 2: Hệ thống số</h3>
                <h4>1. Các Hệ đếm Quan trọng</h4>
                <ul>
                    <li><strong>Hệ Thập phân (Decimal - Base 10):</strong> Dùng 10 chữ số (0-9). Sử dụng hàng ngày.</li>
                    <li><strong>Hệ Nhị phân (Binary - Base 2):</strong> Dùng 2 chữ số (0, 1). Là ngôn ngữ của máy tính.</li>
                    <li><strong>Hệ Bát phân (Octal - Base 8):</strong> Dùng 8 chữ số (0-7). Dùng để viết gọn chuỗi nhị phân.</li>
                    <li><strong>Hệ Thập lục phân (Hexadecimal - Base 16):</strong> Dùng 16 ký hiệu (0-9, A-F). Rất phổ biến để viết gọn chuỗi nhị phân.</li>
                </ul>
                <h4>2. Chuyển đổi giữa các Hệ cơ số</h4>
                <ul>
                    <li><strong>Bất kỳ sang Thập phân (Decimal):</strong> Dùng công thức tổng các (chữ_số * cơ_số ^ vị_trí).
                        <div class="example"><strong>Ví dụ (1A)₁₆ sang base 10:</strong><br><code>1 * 16¹ + A * 16⁰ = 16 + 10 = 26</code>.</div>
                    </li>
                    <li><strong>Thập phân sang Bất kỳ:</strong> Chia liên tiếp cho cơ số đích, lấy phần dư và đọc ngược từ dưới lên.
                        <div class="example"><strong>Ví dụ 26₁₀ sang base 2:</strong><br>26/2 = 13 dư 0<br>13/2 = 6 dư 1<br>6/2 = 3 dư 0<br>3/2 = 1 dư 1<br>1/2 = 0 dư 1<br><strong>Kết quả: (11010)₂</strong></div>
                    </li>
                    <li><strong>Nhị phân ↔ Bát phân/Thập lục phân:</strong> Dùng phương pháp gom nhóm bit.
                        <ul>
                            <li><strong>Nhị phân ↔ Bát phân:</strong> Gom nhóm <strong>3 bit</strong>.</li>
                            <li><strong>Nhị phân ↔ Thập lục phân:</strong> Gom nhóm <strong>4 bit</strong>.</li>
                        </ul>
                        <div class="example"><strong>Ví dụ (11010)₂ sang Hexadecimal:</strong><br>1. Gom nhóm 4 bit từ phải qua: <code>0001 1010</code> (thêm 0 vào đầu nếu thiếu).<br>2. <code>0001₂ = 1₁₆</code>, <code>1010₂ = 10₁₀ = A₁₆</code>.<br><strong>Kết quả: (1A)₁₆</strong></div>
                    </li>
                </ul>
            `,
            "3": `
                <h3>Chương 3: Lưu trữ Dữ liệu</h3>
                <h4>1. Lưu trữ Số (Storing Numbers)</h4>
                <ul>
                    <li><strong>Số nguyên (Integers):</strong>
                        <ul>
                            <li><strong>Không dấu (Unsigned):</strong> Chỉ biểu diễn số dương và 0.</li>
                            <li><strong>Có dấu - Bù 2 (Signed - Two's Complement):</strong> <strong>Phương pháp chuẩn</strong> trong máy tính.
                                <ul>
                                    <li>Bit trái nhất là bit dấu (0: dương, 1: âm).</li>
                                    <li>Ưu điểm: Chỉ có một biểu diễn cho số 0, phép trừ trở thành phép cộng.</li>
                                    <li><strong>Cách tìm số âm:</strong> Lấy biểu diễn nhị phân của số dương, đảo tất cả bit rồi cộng 1.</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><strong>Số thực (Real Numbers):</strong>
                        <ul>
                            <li>Dùng biểu diễn <strong>Dấu phẩy động (Floating-Point)</strong> theo chuẩn <strong>IEEE 754</strong>.</li>
                            <li>Cấu trúc gồm 3 phần: <strong>Sign (Dấu)</strong>, <strong>Exponent (Số mũ)</strong>, và <strong>Mantissa (Phần định trị)</strong>.</li>
                        </ul>
                    </li>
                </ul>
                <h4>2. Lưu trữ các loại Dữ liệu khác</h4>
                <ul>
                    <li><strong>Văn bản (Text):</strong> Mỗi ký tự được ánh xạ tới một chuỗi bit qua bảng mã (<strong>ASCII</strong>, <strong>Unicode</strong>).</li>
                    <li><strong>Âm thanh (Audio):</strong> Tín hiệu analog được số hóa qua 3 bước: <strong>Lấy mẫu (Sampling)</strong>, <strong>Lượng tử hóa (Quantization)</strong>, và <strong>Mã hóa (Encoding)</strong>.</li>
                    <li><strong>Hình ảnh (Images):</strong>
                        <ul>
                            <li><strong>Raster Graphics (Bitmap):</strong> Lưu ảnh dưới dạng lưới các <strong>pixel</strong> (điểm ảnh). Phù hợp cho ảnh chụp (JPEG, PNG).</li>
                            <li><strong>Vector Graphics:</strong> Lưu ảnh dưới dạng công thức toán học (đường thẳng, đường cong). Phóng to không vỡ hình. Phù hợp cho logo (SVG).</li>
                        </ul>
                    </li>
                    <li><strong>Video:</strong> Là một chuỗi các hình ảnh (<strong>frames</strong>) được chiếu liên tiếp với tốc độ cao (fps).</li>
                </ul>
            `,
            "4": `
                <h3>Chương 4: Các Thao tác trên Dữ liệu</h3>
                <h4>1. Thao tác Logic (Logic Operations)</h4>
                <ul>
                    <li>Gồm 4 phép toán cơ bản trên từng bit: <strong>NOT</strong> (đảo bit), <strong>AND</strong>, <strong>OR</strong>, <strong>XOR</strong>.</li>
                    <li><strong>Ứng dụng với Mặt nạ (Masking):</strong> Cho phép thay đổi một vài bit cụ thể mà không ảnh hưởng các bit khác.
                        <ul>
                            <li><strong>Tắt bit (Unset):</strong> Dùng phép <code>AND</code> với mặt nạ có bit 0 ở vị trí cần tắt.</li>
                            <li><strong>Bật bit (Set):</strong> Dùng phép <code>OR</code> với mặt nạ có bit 1 ở vị trí cần bật.</li>
                            <li><strong>Đảo bit (Flip):</strong> Dùng phép <code>XOR</code> với mặt nạ có bit 1 ở vị trí cần đảo.</li>
                        </ul>
                    </li>
                </ul>
                <h4>2. Thao tác Dịch chuyển (Shift Operations)</h4>
                <ul>
                    <li><strong>Dịch chuyển Logic (Logical Shift):</strong> Dịch bit và luôn chèn bit 0 vào chỗ trống. Dùng cho số không dấu.</li>
                    <li><strong>Dịch chuyển Số học (Arithmetic Shift):</strong> Khi dịch phải, <strong>sao chép bit dấu</strong> vào chỗ trống để bảo toàn dấu của số. Dùng cho số có dấu.</li>
                    <li>Dịch trái n bit tương đương <strong>nhân cho 2ⁿ</strong>. Dịch phải n bit tương đương <strong>chia cho 2ⁿ</strong>.</li>
                </ul>
                <h4>3. Thao tác Số học (Arithmetic Operations)</h4>
                <ul>
                    <li>CPU thực hiện mọi phép toán số học thông qua <strong>phép cộng</strong>.</li>
                    <li>Phép trừ <code>A - B</code> được thực hiện bằng phép cộng <code>A + (Bù 2 của B)</code>.</li>
                    <li>Khi cộng số bù 2, <strong>bit nhớ cuối cùng (nếu có) sẽ bị bỏ đi</strong>.</li>
                </ul>
                <div class="example"><strong>Ví dụ 19 - 23 (8-bit):</strong><br>1. Chuyển thành 19 + (-23).<br>2. 19 = <code>00010011</code><br>3. -23 = Bù 2 của (00010111) = <code>11101001</code><br>4. Cộng: <code>00010011 + 11101001 = 11111100</code>.<br>5. Kết quả <code>11111100</code> là -4.</div>
            `,
            "5": `
                <h3>Chương 5: Tổ chức Máy tính</h3>
                <h4>1. Ba Hệ thống con (Subsystems)</h4>
                <ul>
                    <li><strong>CPU (Central Processing Unit):</strong> "Bộ não" của máy tính, gồm ALU, Control Unit, và Registers.</li>
                    <li><strong>Bộ nhớ chính (Main Memory):</strong> Nơi lưu trữ dữ liệu và chương trình (RAM, ROM).</li>
                    <li><strong>Hệ thống Vào/Ra (I/O Subsystem):</strong> Giúp giao tiếp với thế giới bên ngoài.</li>
                    <li>Các hệ thống con được kết nối qua <strong>Bus</strong> (Data bus, Address bus, Control bus).</li>
                </ul>
                <h4>2. Hoạt động của CPU</h4>
                <ul>
                    <li>Thanh ghi quan trọng: <strong>Program Counter (PC)</strong> chứa địa chỉ lệnh tiếp theo, <strong>Instruction Register (IR)</strong> chứa lệnh đang thực thi.</li>
                    <li>Hoạt động theo <strong>Chu kỳ máy (Machine Cycle)</strong> lặp đi lặp lại: <strong>Nạp (Fetch) → Giải mã (Decode) → Thực thi (Execute)</strong>.</li>
                </ul>
                <h4>3. Cải thiện Hiệu năng</h4>
                <ul>
                    <li><strong>Phân cấp bộ nhớ (Memory Hierarchy):</strong> Cân bằng tốc độ, dung lượng, chi phí: <strong>Registers → Cache → Main Memory → Secondary Storage</strong>.</li>
                    <li><strong>Kiến trúc máy tính:</strong>
                        <ul>
                            <li><strong>CISC (Complex Instruction Set):</strong> Tập lệnh phức tạp, mạnh mẽ (VD: Intel x86).</li>
                            <li><strong>RISC (Reduced Instruction Set):</strong> Tập lệnh rút gọn, đơn giản, nhanh (VD: ARM trên điện thoại).</li>
                        </ul>
                    </li>
                    <li><strong>Các kỹ thuật khác:</strong> <strong>Pipelining</strong> (xử lý gối đầu các lệnh), <strong>Parallel Processing</strong> (xử lý song song).</li>
                </ul>
            `,
            "6": `
                <h3>Chương 6: Mạng máy tính & Internet</h3>
                <h4>6.1. Tổng quan</h4>
                    <h5>Mạng (Network)</h5>
                    <ul>
                        <li><strong>Mạng LAN (Local Area Network):</strong> Mạng cục bộ trong phạm vi nhỏ (văn phòng, tòa nhà).</li>
                        <li><strong>Mạng WAN (Wide Area Network):</strong> Mạng diện rộng, kết nối các LAN trên phạm vi địa lý lớn.</li>
                        <li><strong>Internetwork (internet):</strong> Là sự kết nối của hai hay nhiều mạng với nhau.</li>
                        <li><strong>Internet:</strong> Là internetwork lớn nhất toàn cầu, kết nối hàng triệu mạng.</li>
                    </ul>
                    <h5>Phân tầng giao thức (Protocol Layering)</h5>
                    <ul>
                        <li>Chia nhiệm vụ giao tiếp phức tạp thành các tầng (layer) đơn giản hơn. Mô hình phổ biến là <strong>TCP/IP</strong>.</li>
                    </ul>
                <h4>6.2. Lớp Ứng dụng (Application Layer)</h4>
                    <ul>
                        <li>Cung cấp dịch vụ trực tiếp cho người dùng.</li>
                        <li><strong>Mô hình hoạt động:</strong> <strong>Client-Server</strong> (máy chủ-máy khách) và <strong>Peer-to-Peer (P2P)</strong> (mạng ngang hàng).</li>
                        <li><strong>Các giao thức tiêu biểu:</strong>
                            <ul>
                                <li><strong>HTTP/HTTPS:</strong> Giao thức web.</li>
                                <li><strong>FTP:</strong> Giao thức truyền file.</li>
                                <li><strong>SMTP, POP3, IMAP:</strong> Các giao thức Email.</li>
                                <li><strong>DNS:</strong> Hệ thống phân giải tên miền (ví dụ: google.com -> 172.217.167.78).</li>
                            </ul>
                        </li>
                    </ul>
                <h4>6.3. Lớp Giao vận (Transport Layer)</h4>
                     <ul>
                        <li>Chịu trách nhiệm giao tiếp từ <strong>tiến trình-đến-tiến trình (process-to-process)</strong>.</li>
                        <li>Sử dụng <strong>Số hiệu cổng (Port Number)</strong> để định danh ứng dụng.</li>
                        <li><strong>Các giao thức chính:</strong>
                            <ul>
                                <li><strong>TCP (Transmission Control Protocol):</strong> <strong>Tin cậy</strong>, hướng kết nối. Đảm bảo dữ liệu đến đủ và đúng thứ tự.</li>
                                <li><strong>UDP (User Datagram Protocol):</strong> <strong>Không tin cậy</strong>, không kết nối. Ưu tiên tốc độ (dùng cho game, video call).</li>
                            </ul>
                        </li>
                    </ul>
                <h4>6.4. Lớp Mạng (Network Layer)</h4>
                    <ul>
                        <li>Chịu trách nhiệm <strong>định tuyến (routing)</strong> các gói tin đi từ máy chủ nguồn đến máy chủ đích (host-to-host) qua các mạng khác nhau.</li>
                        <li>Sử dụng <strong>Địa chỉ IP (IP Address)</strong> để định danh thiết bị trên Internet.</li>
                        <li><strong>Các phiên bản:</strong> <strong>IPv4</strong> (32-bit) và <strong>IPv6</strong> (128-bit).</li>
                    </ul>
                <h4>6.5. Lớp Liên kết dữ liệu (Data-Link Layer)</h4>
                    <ul>
                        <li>Xử lý việc truyền dữ liệu trong cùng một mạng vật lý (node-to-node).</li>
                        <li>Sử dụng <strong>Địa chỉ MAC (MAC Address)</strong> - địa chỉ vật lý của card mạng.</li>
                        <li><strong>Công nghệ LAN:</strong> Ethernet (có dây), Wi-Fi (không dây).</li>
                    </ul>
                <h4>6.6. Lớp Vật lý (Physical Layer) & Môi trường Truyền dẫn</h4>
                    <ul>
                        <li><strong>Lớp Vật lý:</strong> Chuyển đổi dữ liệu số thành tín hiệu điện, quang hoặc sóng vô tuyến để truyền đi.</li>
                        <li><strong>Môi trường truyền dẫn:</strong>
                            <ul>
                                <li><strong>Có hướng (Guided):</strong> Cáp xoắn đôi, cáp đồng trục, cáp quang.</li>
                                <li><strong>Không có hướng (Unguided):</strong> Sóng vô tuyến (Wi-Fi, 4G/5G), vi sóng, hồng ngoại.</li>
                            </ul>
                        </li>
                    </ul>
            `
        };

        // --- DATA TIẾNG ANH ---
        const theoryDataEN = {
            "0": `<div class="welcome-message"><p>Please select a chapter from the menu above to start reviewing.</p><p>Detailed theory content will be displayed here.</p></div>`,
            "1": `
                <h3>Chapter 1: Introduction to Computer Science</h3>
                <h4>1. Two Fundamental Models</h4>
                <ul>
                    <li><strong>Turing Model:</strong> Defines a computer as a <strong>"programmable data processor"</strong>. The foundation for general-purpose computers, where the output depends on both <strong>input data</strong> and the <strong>program</strong>. Formula: <code>Input + Program → Computer → Output</code>.</li>
                    <li><strong>Von Neumann Model:</strong> The practical architecture of most modern computers.
                        <ul>
                            <li>Breakthrough: <strong>Stored-Program Concept</strong>, meaning both the program and data are stored together in memory as binary.</li>
                            <li><strong>Four Subsystems:</strong>
                                <ol>
                                    <li><strong>Memory:</strong> Stores the program and data.</li>
                                    <li><strong>Arithmetic Logic Unit (ALU):</strong> Performs calculations.</li>
                                    <li><strong>Control Unit:</strong> The "brain" that directs all operations.</li>
                                    <li><strong>Input/Output (I/O):</strong> Communicates with the outside world.</li>
                                </ol>
                            </li>
                        </ul>
                    </li>
                </ul>
                <h4>2. Three Components of a Computer</h4>
                <ul>
                    <li><strong>Hardware:</strong> The physical components (CPU, RAM, etc.).</li>
                    <li><strong>Data:</strong> Raw information, stored as binary (0s and 1s).</li>
                    <li><strong>Software:</strong> Programs (sets of instructions) that tell the hardware how to process data.</li>
                </ul>
                <h4>3. History of Development</h4>
                <ul>
                    <li><strong>Mechanical Era (Before 1930):</strong> Pascaline, Babbage's Analytical Engine.</li>
                    <li><strong>Birth of Electronic Computers (1930 - 1950):</strong> Used vacuum tubes (ENIAC, EDVAC).</li>
                    <li><strong>Modern Generations:</strong>
                        <ul>
                            <li><strong>Gen 1 (1950s):</strong> Vacuum Tubes.</li>
                            <li><strong>Gen 2 (1959-1965):</strong> Transistors - smaller, faster.</li>
                            <li><strong>Gen 3 (1965-1975):</strong> Integrated Circuits (ICs) - many transistors on one chip.</li>
                            <li><strong>Gen 4 (1975-1985):</strong> Microprocessors - a whole CPU on one chip, leading to PCs.</li>
                            <li><strong>Gen 5 (1985-Present):</strong> Parallel Processing, AI, computer networks.</li>
                        </ul>
                    </li>
                </ul>
            `,
            "2": `
                <h3>Chapter 2: Number Systems</h3>
                <h4>1. Important Number Systems</h4>
                <ul>
                    <li><strong>Decimal (Base 10):</strong> Uses 10 digits (0-9). Used in everyday life.</li>
                    <li><strong>Binary (Base 2):</strong> Uses 2 digits (0, 1). The language of computers.</li>
                    <li><strong>Octal (Base 8):</strong> Uses 8 digits (0-7). Used to shorten binary strings.</li>
                    <li><strong>Hexadecimal (Base 16):</strong> Uses 16 symbols (0-9, A-F). Very common for shortening binary strings.</li>
                </ul>
                <h4>2. Conversion Between Bases</h4>
                <ul>
                    <li><strong>Any Base to Decimal:</strong> Use the formula sum of (digit * base ^ position).
                        <div class="example"><strong>Example (1A)₁₆ to base 10:</strong><br><code>1 * 16¹ + 10 * 16⁰ = 16 + 10 = 26</code>.</div>
                    </li>
                    <li><strong>Decimal to Any Base:</strong> Repeatedly divide by the target base, take the remainders, and read them in reverse order.
                        <div class="example"><strong>Example 26₁₀ to base 2:</strong><br>26/2 = 13 rem 0<br>13/2 = 6 rem 1<br>6/2 = 3 rem 0<br>3/2 = 1 rem 1<br>1/2 = 0 rem 1<br><strong>Result: (11010)₂</strong></div>
                    </li>
                    <li><strong>Binary ↔ Octal/Hexadecimal:</strong> Use the bit-grouping method.
                        <ul>
                            <li><strong>Binary ↔ Octal:</strong> Group by <strong>3 bits</strong>.</li>
                            <li><strong>Binary ↔ Hexadecimal:</strong> Group by <strong>4 bits</strong>.</li>
                        </ul>
                        <div class="example"><strong>Example (11010)₂ to Hexadecimal:</strong><br>1. Group by 4 bits from the right: <code>0001 1010</code> (pad with leading zeros if needed).<br>2. <code>0001₂ = 1₁₆</code>, <code>1010₂ = 10₁₀ = A₁₆</code>.<br><strong>Result: (1A)₁₆</strong></div>
                    </li>
                </ul>
            `,
            "3": `
                <h3>Chapter 3: Data Storage</h3>
                <h4>1. Storing Numbers</h4>
                <ul>
                    <li><strong>Integers:</strong>
                        <ul>
                            <li><strong>Unsigned:</strong> Represents non-negative numbers and zero only.</li>
                            <li><strong>Signed - Two's Complement:</strong> The <strong>standard method</strong> in computers.
                                <ul>
                                    <li>The leftmost bit is the sign bit (0: positive, 1: negative).</li>
                                    <li>Advantages: Only one representation for zero, subtraction is performed via addition.</li>
                                    <li><strong>To find a negative number:</strong> Take the binary representation of the positive number, invert all bits, then add 1.</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><strong>Real Numbers:</strong>
                        <ul>
                            <li>Uses <strong>Floating-Point</strong> representation based on the <strong>IEEE 754</strong> standard.</li>
                            <li>Structure includes 3 parts: <strong>Sign</strong>, <strong>Exponent</strong>, and <strong>Mantissa</strong>.</li>
                        </ul>
                    </li>
                </ul>
                <h4>2. Storing Other Data Types</h4>
                <ul>
                    <li><strong>Text:</strong> Each character is mapped to a bit pattern via a character set (<strong>ASCII</strong>, <strong>Unicode</strong>).</li>
                    <li><strong>Audio:</strong> Analog signals are digitized through 3 steps: <strong>Sampling</strong>, <strong>Quantization</strong>, and <strong>Encoding</strong>.</li>
                    <li><strong>Images:</strong>
                        <ul>
                            <li><strong>Raster Graphics (Bitmap):</strong> Stores an image as a grid of <strong>pixels</strong>. Suitable for photos (JPEG, PNG).</li>
                            <li><strong>Vector Graphics:</strong> Stores an image as mathematical formulas (lines, curves). Scalable without quality loss. Suitable for logos (SVG).</li>
                        </ul>
                    </li>
                    <li><strong>Video:</strong> A sequence of images (<strong>frames</strong>) displayed rapidly (measured in fps).</li>
                </ul>
            `,
            "4": `
                <h3>Chapter 4: Operations on Data</h3>
                <h4>1. Logic Operations</h4>
                <ul>
                    <li>Includes 4 basic bitwise operations: <strong>NOT</strong> (inverts bits), <strong>AND</strong>, <strong>OR</strong>, <strong>XOR</strong>.</li>
                    <li><strong>Application with Masking:</strong> Allows changing specific bits without affecting others.
                        <ul>
                            <li><strong>Unset a bit:</strong> Use <code>AND</code> with a mask having a 0 at the target position.</li>
                            <li><strong>Set a bit:</strong> Use <code>OR</code> with a mask having a 1 at the target position.</li>
                            <li><strong>Flip a bit:</strong> Use <code>XOR</code> with a mask having a 1 at the target position.</li>
                        </ul>
                    </li>
                </ul>
                <h4>2. Shift Operations</h4>
                <ul>
                    <li><strong>Logical Shift:</strong> Shifts bits and always inserts a 0 into the empty spot. Used for unsigned numbers.</li>
                    <li><strong>Arithmetic Shift:</strong> When shifting right, it <strong>copies the sign bit</strong> into the empty spot to preserve the number's sign. Used for signed numbers.</li>
                    <li>Left shift by n is equivalent to <strong>multiplying by 2ⁿ</strong>. Right shift by n is equivalent to <strong>dividing by 2ⁿ</strong>.</li>
                </ul>
                <h4>3. Arithmetic Operations</h4>
                <ul>
                    <li>The CPU performs all arithmetic via <strong>addition</strong>.</li>
                    <li>Subtraction <code>A - B</code> is performed as <code>A + (Two's Complement of B)</code>.</li>
                    <li>When adding two's complement numbers, the <strong>final carry bit (if any) is discarded</strong>.</li>
                </ul>
                <div class="example"><strong>Example 19 - 23 (8-bit):</strong><br>1. Convert to 19 + (-23).<br>2. 19 = <code>00010011</code><br>3. -23 = Two's Comp of (00010111) = <code>11101001</code><br>4. Add: <code>00010011 + 11101001 = 11111100</code>.<br>5. The result <code>11111100</code> is -4.</div>
            `,
            "5": `
                <h3>Chapter 5: Computer Organization</h3>
                <h4>1. Three Subsystems</h4>
                <ul>
                    <li><strong>CPU (Central Processing Unit):</strong> The "brain" of the computer, includes ALU, Control Unit, and Registers.</li>
                    <li><strong>Main Memory:</strong> Where data and programs are stored (RAM, ROM).</li>
                    <li><strong>I/O Subsystem:</strong> Helps the computer communicate with the outside world.</li>
                    <li>Subsystems are connected via a <strong>Bus</strong> (Data, Address, Control).</li>
                </ul>
                <h4>2. CPU Operation</h4>
                <ul>
                    <li>Important registers: <strong>Program Counter (PC)</strong> holds the address of the next instruction, <strong>Instruction Register (IR)</strong> holds the current instruction.</li>
                    <li>Operates on a repeating <strong>Machine Cycle</strong>: <strong>Fetch → Decode → Execute</strong>.</li>
                </ul>
                <h4>3. Performance Enhancement</h4>
                <ul>
                    <li><strong>Memory Hierarchy:</strong> Balances speed, capacity, and cost: <strong>Registers → Cache → Main Memory → Secondary Storage</strong>.</li>
                    <li><strong>Computer Architecture:</strong>
                        <ul>
                            <li><strong>CISC (Complex Instruction Set):</strong> Complex, powerful instructions (e.g., Intel x86).</li>
                            <li><strong>RISC (Reduced Instruction Set):</strong> Simplified, fast instructions (e.g., ARM in phones).</li>
                        </ul>
                    </li>
                    <li><strong>Other Techniques:</strong> <strong>Pipelining</strong> (overlapping instruction execution), <strong>Parallel Processing</strong>.</li>
                </ul>
            `,
            "6": `
                <h3>Chapter 6: Computer Networks & Internet</h3>
                <h4>6.1. Overview</h4>
                    <h5>Network Types</h5>
                    <ul>
                        <li><strong>LAN (Local Area Network):</strong> A network in a small scope (office, building).</li>
                        <li><strong>WAN (Wide Area Network):</strong> Connects LANs over a large geographical area.</li>
                        <li><strong>Internetwork (internet):</strong> A connection of two or more networks.</li>
                        <li><strong>The Internet:</strong> The largest global internetwork, connecting millions of networks.</li>
                    </ul>
                    <h5>Protocol Layering</h5>
                    <ul>
                        <li>Divides the complex task of communication into simpler layers. The common model is <strong>TCP/IP</strong>.</li>
                    </ul>
                <h4>6.2. Application Layer</h4>
                    <ul>
                        <li>Provides services directly to the user.</li>
                        <li><strong>Operating Models:</strong> <strong>Client-Server</strong> and <strong>Peer-to-Peer (P2P)</strong>.</li>
                        <li><strong>Key Protocols:</strong>
                            <ul>
                                <li><strong>HTTP/HTTPS:</strong> Web protocol.</li>
                                <li><strong>FTP:</strong> File Transfer Protocol.</li>
                                <li><strong>SMTP, POP3, IMAP:</strong> Email protocols.</li>
                                <li><strong>DNS:</strong> Domain Name System (e.g., google.com -> 172.217.167.78).</li>
                            </ul>
                        </li>
                    </ul>
                <h4>6.3. Transport Layer</h4>
                     <ul>
                        <li>Responsible for <strong>process-to-process</strong> communication.</li>
                        <li>Uses <strong>Port Numbers</strong> to identify applications.</li>
                        <li><strong>Main Protocols:</strong>
                            <ul>
                                <li><strong>TCP (Transmission Control Protocol):</strong> <strong>Reliable</strong>, connection-oriented. Ensures data arrives completely and in order.</li>
                                <li><strong>UDP (User Datagram Protocol):</strong> <strong>Unreliable</strong>, connectionless. Prioritizes speed (used for gaming, video calls).</li>
                            </ul>
                        </li>
                    </ul>
                <h4>6.4. Network Layer</h4>
                    <ul>
                        <li>Responsible for <strong>routing</strong> packets from the source host to the destination host across different networks.</li>
                        <li>Uses <strong>IP Addresses</strong> to identify devices on the Internet.</li>
                        <li><strong>Versions:</strong> <strong>IPv4</strong> (32-bit) and <strong>IPv6</strong> (128-bit).</li>
                    </ul>
                <h4>6.5. Data-Link Layer</h4>
                    <ul>
                        <li>Handles data transmission within the same physical network (node-to-node).</li>
                        <li>Uses <strong>MAC Addresses</strong> - the physical address of a network card.</li>
                        <li><strong>LAN Technologies:</strong> Ethernet (wired), Wi-Fi (wireless).</li>
                    </ul>
                <h4>6.6. Physical Layer & Transmission Media</h4>
                    <ul>
                        <li><strong>Physical Layer:</strong> Converts digital data into electrical, optical, or radio signals for transmission.</li>
                        <li><strong>Transmission Media:</strong>
                            <ul>
                                <li><strong>Guided:</strong> Twisted-pair cable, coaxial cable, fiber optics.</li>
                                <li><strong>Unguided:</strong> Radio waves (Wi-Fi, 4G/5G), microwaves, infrared.</li>
                            </ul>
                        </li>
                    </ul>
            `
        };
        
        // --- LOGIC CHÍNH ---

        const chapterSelect = document.getElementById('chapter-select');
        const contentDisplay = document.getElementById('content-display');
        const langToggleBtn = document.getElementById('lang-toggle');

        let currentLang = 'vi'; // 'vi' or 'en'

        const staticText = {
            vi: {
                mainTitle: "Sổ tay Ôn tập Lý thuyết CSI",
                selectLabel: "Chọn chương để xem:",
                opt0: "--- Chọn một chương ---",
                opt1: "Chương 1: Tổng quan",
                opt2: "Chương 2: Hệ thống số",
                opt3: "Chương 3: Lưu trữ dữ liệu",
                opt4: "Chương 4: Các phép toán",
                opt5: "Chương 5: Tổ chức máy tính",
                opt6: "Chương 6: Mạng máy tính",
                welcome1: "Hãy chọn một chương từ menu bên trên để bắt đầu ôn tập.",
                welcome2: "Chúc bạn thi tốt!",
                toggleBtn: "Switch to English"
            },
            en: {
                mainTitle: "CSI Theory Review Handbook",
                selectLabel: "Select a chapter to view:",
                opt0: "--- Select a Chapter ---",
                opt1: "Chapter 1: Overview",
                opt2: "Chapter 2: Number Systems",
                opt3: "Chapter 3: Data Storage",
                opt4: "Chapter 4: Operations on Data",
                opt5: "Chapter 5: Computer Organization",
                opt6: "Chapter 6: Computer Networks",
                welcome1: "Please select a chapter from the menu above to start reviewing.",
                welcome2: "Good luck on your exam!",
                toggleBtn: "Chuyển sang Tiếng Việt"
            }
        };

        function updateContent() {
            const selectedChapter = chapterSelect.value;
            const data = (currentLang === 'vi') ? theoryDataVI : theoryDataEN;
            contentDisplay.innerHTML = data[selectedChapter] || theoryDataVI["0"];
        }
        
        function updateStaticText() {
            const texts = staticText[currentLang];
            document.getElementById('main-title').textContent = texts.mainTitle;
            document.getElementById('select-label').textContent = texts.selectLabel;
            document.getElementById('opt-0').textContent = texts.opt0;
            document.getElementById('opt-1').textContent = texts.opt1;
            document.getElementById('opt-2').textContent = texts.opt2;
            document.getElementById('opt-3').textContent = texts.opt3;
            document.getElementById('opt-4').textContent = texts.opt4;
            document.getElementById('opt-5').textContent = texts.opt5;
            document.getElementById('opt-6').textContent = texts.opt6;
            langToggleBtn.textContent = texts.toggleBtn;

            const welcomeP1 = document.getElementById('welcome-p1');
            if(welcomeP1) {
                welcomeP1.textContent = texts.welcome1;
                document.getElementById('welcome-p2').textContent = texts.welcome2;
            }
        }

        function toggleLanguage() {
            currentLang = (currentLang === 'vi') ? 'en' : 'vi';
            updateStaticText();
            updateContent();
        }

        chapterSelect.addEventListener('change', updateContent);
        langToggleBtn.addEventListener('click', toggleLanguage);
        
        updateStaticText();

    </script>

</body>
</html>
