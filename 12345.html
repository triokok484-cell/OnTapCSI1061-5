<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ôn tập Khoa học Máy tính Toàn diện</title>
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #f8f9fa;
            --text-color: #212529;
            --border-color: #dee2e6;
            --highlight-bg: #fff3cd;
            --code-bg: #e9ecef;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: #f4f6f9;
            margin: 0;
            padding: 15px;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            background-color: var(--secondary-color);
            border-bottom: 1px solid var(--border-color);
        }
        .header h1 {
            margin: 0;
            font-size: 1.5em;
            color: var(--primary-color);
        }
        .tab-container {
            display: flex;
            background-color: var(--secondary-color);
            padding: 10px 15px 0 15px;
            border-bottom: 1px solid var(--border-color);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        .tab-btn {
            padding: 12px 18px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1em;
            border-bottom: 3px solid transparent;
            margin-right: 8px;
            margin-bottom: -1px;
            white-space: nowrap;
            transition: all 0.2s ease;
        }
        .tab-btn.active {
            font-weight: 600;
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
        }
        .content-wrapper { padding: 15px 30px 25px; }
        .content-wrapper h2 {
            font-size: 2em;
            color: #1a237e;
            margin-top: 1em;
            margin-bottom: 1em;
            border-bottom: 2px solid #3f51b5;
            padding-bottom: 10px;
        }
        .content-wrapper h3 { 
            font-size: 1.5em; 
            color: #00796b; 
            margin-top: 1.8em;
            border-left: 4px solid #00796b;
            padding-left: 10px;
        }
        .content-wrapper h4 {
            font-size: 1.2em;
            color: #555;
            margin-top: 1.5em;
            font-weight: 600;
        }
        .content-wrapper p, .content-wrapper ul { margin-bottom: 1em; }
        ul { padding-left: 25px; }
        li { margin-bottom: 0.8em; }
        strong { color: #d32f2f; font-weight: 600; }
        .navigation {
            display: flex;
            justify-content: space-between;
            padding: 20px 25px;
            border-top: 1px solid var(--border-color);
            background-color: var(--secondary-color);
        }
        .btn {
            padding: 10px 20px;
            border: none;
            background-color: var(--primary-color);
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: background-color 0.3s ease;
        }
        .btn:hover { background-color: #0056b3; }
        .btn:disabled { background-color: #cccccc; cursor: not-allowed; }
        #lang-toggle { background-color: #28a745; }
        #lang-toggle:hover { background-color: #218838; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 id="main-title">Ôn tập Khoa học Máy tính</h1>
            <button id="lang-toggle" class="btn">English</button>
        </div>

        <div id="tab-container" class="tab-container"></div>
        <div id="chapter-content" class="content-wrapper"></div>

        <div class="navigation">
            <button id="prev-btn" class="btn">Chương trước</button>
            <button id="next-btn" class="btn">Chương tiếp</button>
        </div>
    </div>

<script>
    const chapters = [
        { // Chapter 1
            vi: {
                tab: "Ch.1: Tổng quan",
                title: "Chương 1: Giới thiệu về Khoa học Máy tính",
                content: `
                    <h3>1. Hai Mô hình Nền tảng của Máy tính</h3>
                    <ul>
                        <li><strong>Mô hình Turing (Alan Turing, 1936):</strong>
                            <ul>
                                <li>Là mô hình lý thuyết, định nghĩa máy tính là một <strong>"bộ xử lý dữ liệu có thể lập trình được"</strong> (Programmable Data Processor).</li>
                                <li>Điểm mấu chốt: Kết quả đầu ra (Output) phụ thuộc vào cả dữ liệu đầu vào (Input) và <strong>chương trình (Program)</strong>.</li>
                            </ul>
                        </li>
                        <li><strong>Mô hình von Neumann (John von Neumann, ~1945):</strong>
                            <ul>
                                <li>Là mô hình kiến trúc thực tế mà hầu hết máy tính hiện đại đều dựa trên.</li>
                                <li>Điểm đột phá: <strong>"Khái niệm chương trình được lưu trữ" (Stored-Program Concept)</strong>. Cả chương trình và dữ liệu đều được lưu trữ chung trong bộ nhớ dưới dạng nhị phân.</li>
                                <li>Kiến trúc phần cứng gồm 4 khối: <strong>Bộ nhớ (Memory)</strong>, <strong>Đơn vị số học và logic (ALU)</strong>, <strong>Đơn vị điều khiển (Control Unit)</strong>, và <strong>Thiết bị vào/ra (I/O)</strong>.</li>
                            </ul>
                        </li>
                    </ul>

                    <h3>2. Ba Thành phần Cấu thành Máy tính</h3>
                    <ul>
                        <li><strong>Phần cứng (Hardware):</strong> Các thành phần vật lý.</li>
                        <li><strong>Dữ liệu (Data):</strong> Thông tin thô, được lưu dưới dạng nhị phân.</li>
                        <li><strong>Phần mềm (Software):</strong> Các chương trình hướng dẫn phần cứng.</li>
                    </ul>

                    <h3>3. Lịch sử Phát triển của Máy tính</h3>
                    <ul>
                        <li><strong>Giai đoạn máy cơ khí (Trước 1930):</strong> Máy Pascaline, Động cơ Phân tích.</li>
                        <li><strong>Giai đoạn khai sinh (1930 - 1950):</strong> Sử dụng <strong>bóng đèn chân không</strong> (ENIAC, EDVAC).</li>
                        <li><strong>Các thế hệ máy tính hiện đại:</strong>
                            <ol>
                                <li><strong>Thế hệ 1 (1950-1959):</strong> Bóng đèn chân không.</li>
                                <li><strong>Thế hệ 2 (1959-1965):</strong> <strong>Bóng bán dẫn (Transistor)</strong>.</li>
                                <li><strong>Thế hệ 3 (1965-1975):</strong> <strong>Mạch tích hợp (IC)</strong>.</li>
                                <li><strong>Thế hệ 4 (1975-1985):</strong> <strong>Vi xử lý (Microprocessor)</strong>, khởi đầu kỷ nguyên PC.</li>
                                <li><strong>Thế hệ 5 (1985-nay):</strong> Xử lý song song, mạng, AI.</li>
                            </ol>
                        </li>
                    </ul>
                `
            },
            en: {
                tab: "Ch.1: Overview",
                title: "Chapter 1: Introduction to Computer Science",
                content: `
                    <h3>1. Two Fundamental Models of a Computer</h3>
                    <ul>
                        <li><strong>Turing Model (Alan Turing, 1936):</strong>
                            <ul>
                                <li>A theoretical model defining a computer as a <strong>"Programmable Data Processor"</strong>.</li>
                                <li>Key point: The Output depends on both the Input and the <strong>Program</strong>.</li>
                            </ul>
                        </li>
                        <li><strong>Von Neumann Model (John von Neumann, ~1945):</strong>
                            <ul>
                                <li>The practical architecture on which most modern computers are based.</li>
                                <li>Breakthrough: The <strong>"Stored-Program Concept"</strong>. Both program and data are stored together in memory in binary format.</li>
                                <li>Hardware architecture has 4 blocks: <strong>Memory</strong>, <strong>Arithmetic Logic Unit (ALU)</strong>, <strong>Control Unit</strong>, and <strong>Input/Output (I/O)</strong>.</li>
                            </ul>
                        </li>
                    </ul>

                    <h3>2. Three Components of a Computer</h3>
                    <ul>
                        <li><strong>Hardware:</strong> The physical components.</li>
                        <li><strong>Data:</strong> Raw information, stored as binary.</li>
                        <li><strong>Software:</strong> Programs that instruct the hardware.</li>
                    </ul>

                    <h3>3. History of Computers</h3>
                    <ul>
                        <li><strong>Mechanical Era (Before 1930):</strong> Pascaline, Analytical Engine.</li>
                        <li><strong>The Birth of Electronic Computers (1930 - 1950):</strong> Used <strong>vacuum tubes</strong> (ENIAC, EDVAC).</li>
                        <li><strong>Modern Computer Generations:</strong>
                            <ol>
                                <li><strong>1st Generation (1950-1959):</strong> Vacuum tubes.</li>
                                <li><strong>2nd Generation (1959-1965):</strong> <strong>Transistors</strong>.</li>
                                <li><strong>3rd Generation (1965-1975):</strong> <strong>Integrated Circuits (ICs)</strong>.</li>
                                <li><strong>4th Generation (1975-1985):</strong> <strong>Microprocessors</strong>, the beginning of the PC era.</li>
                                <li><strong>5th Generation (1985-present):</strong> Parallel processing, networking, AI.</li>
                            </ol>
                        </li>
                    </ul>
                `
            }
        },
        { // Chapter 2
            vi: {
                tab: "Ch.2: Hệ đếm",
                title: "Chương 2: Hệ thống số",
                content: `
                    <h3>1. Phân loại Hệ thống số</h3>
                    <ul>
                        <li><strong>Hệ theo vị trí (Positional):</strong> Giá trị của chữ số phụ thuộc vào vị trí. Ví dụ: Thập phân, Nhị phân.</li>
                        <li><strong>Hệ không theo vị trí (Non-positional):</strong> Giá trị của ký hiệu không đổi. Ví dụ: Số La Mã.</li>
                    </ul>
                    <h3>2. Các Hệ đếm theo vị trí quan trọng</h3>
                    <ul>
                        <li><strong>Hệ Thập phân (Decimal - Base 10):</strong> Dùng 10 chữ số (0-9).</li>
                        <li><strong>Hệ Nhị phân (Binary - Base 2):</strong> Dùng 2 chữ số (0, 1). Là ngôn ngữ của máy tính.</li>
                        <li><strong>Hệ Thập lục phân (Hexadecimal - Base 16):</strong> Dùng 16 ký hiệu (0-9, A-F). Dùng để viết gọn chuỗi nhị phân.</li>
                        <li><strong>Hệ Bát phân (Octal - Base 8):</strong> Dùng 8 chữ số (0-7).</li>
                    </ul>
                    <h3>3. Chuyển đổi giữa các Hệ cơ số</h3>
                    <ul>
                        <li><h4>Từ cơ số bất kỳ sang hệ 10:</h4>
                            <p>Lấy từng chữ số nhân với <code>cơ_số ^ vị_trí</code>, sau đó cộng tất cả lại.</p></li>
                        <li><h4>Từ hệ 10 sang cơ số bất kỳ:</h4>
                            <p>Chia liên tiếp cho cơ số đích, lấy phần dư và đọc ngược từ dưới lên.</p></li>
                        <li><h4>Chuyển đổi nhanh (Nhị phân ↔ Thập lục phân/Bát phân):</h4>
                            <p>Dựa trên việc gom nhóm bit: <strong>4 bit</strong> cho Hexa, <strong>3 bit</strong> cho Octal.</p></li>
                    </ul>
                `
            },
            en: {
                tab: "Ch.2: Number Sys.",
                title: "Chapter 2: Number Systems",
                content: `
                    <h3>1. Types of Number Systems</h3>
                    <ul>
                        <li><strong>Positional:</strong> The value of a digit depends on its position. E.g., Decimal, Binary.</li>
                        <li><strong>Non-positional:</strong> The value of a symbol is constant. E.g., Roman Numerals.</li>
                    </ul>
                    <h3>2. Important Positional Number Systems</h3>
                    <ul>
                        <li><strong>Decimal (Base 10):</strong> Uses 10 digits (0-9).</li>
                        <li><strong>Binary (Base 2):</strong> Uses 2 digits (0, 1). The language of computers.</li>
                        <li><strong>Hexadecimal (Base 16):</strong> Uses 16 symbols (0-9, A-F). Used to represent long binary strings concisely.</li>
                        <li><strong>Octal (Base 8):</strong> Uses 8 digits (0-7).</li>
                    </ul>
                    <h3>3. Conversions Between Number Systems</h3>
                    <ul>
                        <li><h4>From Any Base to Base 10:</h4>
                            <p>Multiply each digit by <code>base ^ position</code>, then sum them all up.</p></li>
                        <li><h4>From Base 10 to Any Base:</h4>
                            <p>Repeatedly divide by the target base, collect the remainders, and read them in reverse order.</p></li>
                        <li><h4>Quick Conversion (Binary ↔ Hexadecimal/Octal):</h4>
                            <p>Based on bit grouping: <strong>4 bits</strong> for Hex, <strong>3 bits</strong> for Octal.</p></li>
                    </ul>
                `
            }
        },
        { // Chapter 3
            vi: {
                tab: "Ch.3: Lưu trữ",
                title: "Chương 3: Lưu trữ Dữ liệu",
                content: `
                    <h3>1. Lưu trữ Số (Storing Numbers)</h3>
                    <h4>Số nguyên (Integers):</h4>
                    <ul>
                        <li><strong>Không dấu (Unsigned):</strong> Chỉ biểu diễn số không âm.</li>
                        <li><strong>Có dấu (Signed):</strong>
                            <ul>
                                <li><strong>Dấu-và-Lượng (Sign-and-Magnitude):</strong> Bit đầu làm bit dấu, có 2 biểu diễn cho số 0.</li>
                                <li><strong>Bù 2 (Two's Complement):</strong> <strong>Phương pháp chuẩn</strong> trong máy tính. Chỉ có một biểu diễn cho số 0 và phép trừ trở thành phép cộng.</li>
                            </ul>
                        </li>
                    </ul>
                    <h4>Số thực (Real Numbers):</h4>
                    <ul>
                        <li>Sử dụng biểu diễn <strong>Dấu phẩy động (Floating-Point)</strong> theo chuẩn <strong>IEEE 754</strong>.</li>
                        <li>Cấu trúc gồm 3 phần: <strong>Sign (Dấu)</strong>, <strong>Exponent (Số mũ)</strong>, và <strong>Mantissa (Phần định trị)</strong>.</li>
                    </ul>
                    <h3>2. Lưu trữ các loại Dữ liệu khác</h3>
                    <ul>
                        <li><strong>Văn bản (Text):</strong> Dùng bảng mã <strong>ASCII</strong> hoặc <strong>Unicode</strong>.</li>
                        <li><strong>Âm thanh (Audio):</strong> Số hóa qua 3 bước: <strong>Lấy mẫu (Sampling)</strong>, <strong>Lượng tử hóa (Quantization)</strong>, và <strong>Mã hóa (Encoding)</strong>.</li>
                        <li><strong>Hình ảnh (Images):</strong>
                            <ul>
                                <li><strong>Raster Graphics (Bitmap):</strong> Lưu ảnh dưới dạng lưới các <strong>pixel</strong> (JPEG, PNG).</li>
                                <li><strong>Vector Graphics:</strong> Lưu ảnh dưới dạng công thức toán học, phóng to không vỡ hình (SVG).</li>
                            </ul>
                        </li>
                        <li><strong>Video:</strong> Là một chuỗi các hình ảnh (<strong>frames</strong>) được chiếu liên tiếp.</li>
                    </ul>
                `
            },
            en: {
                tab: "Ch.3: Storage",
                title: "Chapter 3: Data Storage",
                content: `
                    <h3>1. Storing Numbers</h3>
                    <h4>Integers:</h4>
                    <ul>
                        <li><strong>Unsigned:</strong> Represents non-negative numbers only.</li>
                        <li><strong>Signed:</strong>
                            <ul>
                                <li><strong>Sign-and-Magnitude:</strong> First bit is the sign, has two representations for zero.</li>
                                <li><strong>Two's Complement:</strong> The <strong>standard method</strong> in computers. Has only one representation for zero, and subtraction becomes addition.</li>
                            </ul>
                        </li>
                    </ul>
                    <h4>Real Numbers:</h4>
                    <ul>
                        <li>Uses <strong>Floating-Point</strong> representation, following the <strong>IEEE 754</strong> standard.</li>
                        <li>The structure has 3 parts: <strong>Sign</strong>, <strong>Exponent</strong>, and <strong>Mantissa</strong>.</li>
                    </ul>
                    <h3>2. Storing Other Data Types</h3>
                    <ul>
                        <li><strong>Text:</strong> Uses character sets like <strong>ASCII</strong> or <strong>Unicode</strong>.</li>
                        <li><strong>Audio:</strong> Digitized in 3 steps: <strong>Sampling</strong>, <strong>Quantization</strong>, and <strong>Encoding</strong>.</li>
                        <li><strong>Images:</strong>
                            <ul>
                                <li><strong>Raster Graphics (Bitmap):</strong> Stores an image as a grid of <strong>pixels</strong> (JPEG, PNG).</li>
                                <li><strong>Vector Graphics:</strong> Stores an image as mathematical formulas, scalable without quality loss (SVG).</li>
                            </ul>
                        </li>
                        <li><strong>Video:</strong> A sequence of images (<strong>frames</strong>) displayed rapidly.</li>
                    </ul>
                `
            }
        },
        { // Chapter 4
            vi: {
                tab: "Ch.4: Phép toán",
                title: "Chương 4: Các Thao tác trên Dữ liệu",
                content: `
                    <h3>1. Thao tác Logic (Logic Operations)</h3>
                    <ul>
                        <li>Gồm 4 phép toán trên bit: <strong>NOT</strong> (đảo bit), <strong>AND</strong>, <strong>OR</strong>, <strong>XOR</strong>.</li>
                        <li><strong>Ứng dụng với Mặt nạ (Masking):</strong>
                            <ul>
                                <li><strong>Tắt bit (Unset):</strong> Dùng phép <code>AND</code> với mặt nạ có bit 0.</li>
                                <li><strong>Bật bit (Set):</strong> Dùng phép <code>OR</code> với mặt nạ có bit 1.</li>
                                <li><strong>Đảo bit (Flip):</strong> Dùng phép <code>XOR</code> với mặt nạ có bit 1.</li>
                            </ul>
                        </li>
                    </ul>
                    <h3>2. Thao tác Dịch chuyển (Shift Operations)</h3>
                    <ul>
                        <li><strong>Dịch chuyển Logic (Logical Shift):</strong> Luôn chèn bit 0 vào chỗ trống.</li>
                        <li><strong>Dịch chuyển Số học (Arithmetic Shift):</strong> Khi dịch phải, <strong>sao chép bit dấu</strong> để bảo toàn dấu của số. Dùng để nhân/chia 2 nhanh.</li>
                        <li><strong>Dịch chuyển Vòng (Circular Shift):</strong> Không có bit nào bị mất.</li>
                    </ul>
                    <h3>3. Thao tác Số học (Arithmetic Operations)</h3>
                    <ul>
                        <li>Thực hiện trên các số nguyên (thường là Bù 2).</li>
                        <li>Phép trừ <code>A - B</code> được thực hiện bằng phép cộng <code>A + (Bù 2 của B)</code>.</li>
                        <li>Khi cộng số bù 2, <strong>bit nhớ cuối cùng (nếu có) sẽ bị bỏ đi</strong>.</li>
                    </ul>
                `
            },
            en: {
                tab: "Ch.4: Operations",
                title: "Chapter 4: Operations on Data",
                content: `
                    <h3>1. Logic Operations</h3>
                    <ul>
                        <li>Includes 4 bitwise operations: <strong>NOT</strong> (inverts bit), <strong>AND</strong>, <strong>OR</strong>, <strong>XOR</strong>.</li>
                        <li><strong>Application with Masking:</strong>
                            <ul>
                                <li><strong>Unset a bit:</strong> Use <code>AND</code> with a mask having a 0.</li>
                                <li><strong>Set a bit:</strong> Use <code>OR</code> with a mask having a 1.</li>
                                <li><strong>Flip a bit:</strong> Use <code>XOR</code> with a mask having a 1.</li>
                            </ul>
                        </li>
                    </ul>
                    <h3>2. Shift Operations</h3>
                    <ul>
                        <li><strong>Logical Shift:</strong> Always inserts a 0 into the empty space.</li>
                        <li><strong>Arithmetic Shift:</strong> When shifting right, it <strong>copies the sign bit</strong> to preserve the number's sign. Used for fast multiplication/division by 2.</li>
                        <li><strong>Circular Shift:</strong> No bits are lost.</li>
                    </ul>
                    <h3>3. Arithmetic Operations</h3>
                    <ul>
                        <li>Performed on integers (usually Two's Complement).</li>
                        <li>Subtraction <code>A - B</code> is performed as <code>A + (Two's Complement of B)</code>.</li>
                        <li>When adding two's complement numbers, the <strong>final carry bit (if any) is discarded</strong>.</li>
                    </ul>
                `
            }
        },
        { // Chapter 5
            vi: {
                tab: "Ch.5: Tổ chức",
                title: "Chương 5: Tổ chức Máy tính",
                content: `
                    <h3>1. Ba Hệ thống con (Subsystems)</h3>
                    <ul>
                        <li><strong>CPU (Central Processing Unit):</strong> "Bộ não" gồm <strong>ALU</strong>, <strong>Bộ điều khiển (Control Unit)</strong>, và <strong>Thanh ghi (Registers)</strong>.</li>
                        <li><strong>Bộ nhớ chính (Main Memory):</strong> RAM (khả biến) và ROM (bất biến).</li>
                        <li><strong>Hệ thống Vào/Ra (I/O Subsystem):</strong> Giao tiếp với bên ngoài.</li>
                    </ul>
                    <h3>2. Liên kết và Hoạt động</h3>
                    <ul>
                        <li><strong>Bus:</strong> Kết nối các hệ thống con, gồm <strong>Data Bus</strong>, <strong>Address Bus</strong>, <strong>Control Bus</strong>.</li>
                        <li><strong>Chu kỳ máy (Machine Cycle):</strong> CPU lặp lại 3 bước: <strong>Fetch</strong> (Nạp lệnh) → <strong>Decode</strong> (Giải mã) → <strong>Execute</strong> (Thực thi).</li>
                    </ul>
                    <h3>3. Cải thiện Hiệu năng</h3>
                    <ul>
                        <li><strong>Phân cấp bộ nhớ (Memory Hierarchy):</strong> <strong>Registers → Cache → Main Memory → Storage</strong>.</li>
                        <li><strong>Kiến trúc Tập lệnh (ISA):</strong> <strong>CISC</strong> (phức tạp) vs <strong>RISC</strong> (đơn giản, nhanh).</li>
                        <li><strong>Kỹ thuật khác:</strong> <strong>Pipelining</strong> (xử lý gối đầu), <strong>Parallel Processing</strong> (xử lý song song).</li>
                    </ul>
                `
            },
            en: {
                tab: "Ch.5: Organization",
                title: "Chapter 5: Computer Organization",
                content: `
                    <h3>1. Three Subsystems</h3>
                    <ul>
                        <li><strong>CPU (Central Processing Unit):</strong> The "brain," comprising the <strong>ALU</strong>, <strong>Control Unit</strong>, and <strong>Registers</strong>.</li>
                        <li><strong>Main Memory:</strong> RAM (volatile) and ROM (non-volatile).</li>
                        <li><strong>I/O Subsystem:</strong> Interfaces with the outside world.</li>
                    </ul>
                    <h3>2. Interconnection and Operation</h3>
                    <ul>
                        <li><strong>Bus:</strong> Connects subsystems, includes <strong>Data Bus</strong>, <strong>Address Bus</strong>, <strong>Control Bus</strong>.</li>
                        <li><strong>Machine Cycle:</strong> The CPU's repetitive 3-step cycle: <strong>Fetch</strong> → <strong>Decode</strong> → <strong>Execute</strong>.</li>
                    </ul>
                    <h3>3. Performance Enhancement</h3>
                    <ul>
                        <li><strong>Memory Hierarchy:</strong> <strong>Registers → Cache → Main Memory → Storage</strong>.</li>
                        <li><strong>Instruction Set Architecture (ISA):</strong> <strong>CISC</strong> (complex) vs. <strong>RISC</strong> (simple, fast).</li>
                        <li><strong>Other Techniques:</strong> <strong>Pipelining</strong> (overlapping execution), <strong>Parallel Processing</strong>.</li>
                    </ul>
                `
            }
        },
        { // Chapter 6
            vi: {
                tab: "Ch.6: Mạng",
                title: "Chương 6: Mạng Máy tính và Internet",
                content: `
                    <h3>1. Tổng quan</h3>
                    <ul>
                        <li><strong>Mạng LAN (Local Area Network):</strong> Mạng cục bộ trong phạm vi nhỏ.</li>
                        <li><strong>Mạng WAN (Wide Area Network):</strong> Mạng diện rộng, kết nối các LAN.</li>
                        <li>Internet hoạt động dựa trên bộ giao thức <strong>TCP/IP</strong>.</li>
                    </ul>
                    <h3>2. Mô hình TCP/IP (5 lớp)</h3>
                    <ol>
                        <li><strong>Lớp Ứng dụng (Application):</strong> Cung cấp dịch vụ cho người dùng (HTTP, DNS).
                            <ul><li>Mô hình: <strong>Client-Server</strong>, <strong>Peer-to-Peer (P2P)</strong>.</li></ul>
                        </li>
                        <li><strong>Lớp Giao vận (Transport):</strong> Giao tiếp từ tiến trình-đến-tiến trình qua <strong>số hiệu cổng (port)</strong>.
                            <ul>
                                <li><strong>TCP:</strong> Đáng tin cậy, hướng kết nối.</li>
                                <li><strong>UDP:</strong> Nhanh, không kết nối.</li>
                            </ul>
                        </li>
                        <li><strong>Lớp Mạng (Network):</strong> Chức năng chính là <strong>định tuyến (routing)</strong> gói tin giữa các mạng. Sử dụng <strong>Địa chỉ IP</strong>.</li>
                        <li><strong>Lớp Liên kết dữ liệu (Data Link):</strong> Truyền dữ liệu trong cùng một mạng. Sử dụng <strong>Địa chỉ MAC</strong>.
                            <ul><li>Công nghệ: Ethernet, Wi-Fi.</li></ul>
                        </li>
                        <li><strong>Lớp Vật lý (Physical):</strong> Truyền bit qua môi trường vật lý (cáp, sóng radio).</li>
                    </ol>
                `
            },
            en: {
                tab: "Ch.6: Networks",
                title: "Chapter 6: Computer Networks & Internet",
                content: `
                    <h3>1. Overview</h3>
                    <ul>
                        <li><strong>LAN (Local Area Network):</strong> A network in a small scope.</li>
                        <li><strong>WAN (Wide Area Network):</strong> Connects LANs over a large area.</li>
                        <li>The Internet operates based on the <strong>TCP/IP</strong> protocol suite.</li>
                    </ul>
                    <h3>2. The TCP/IP Model (5 Layers)</h3>
                    <ol>
                        <li><strong>Application Layer:</strong> Provides services to the user (HTTP, DNS).
                            <ul><li>Models: <strong>Client-Server</strong>, <strong>Peer-to-Peer (P2P)</strong>.</li></ul>
                        </li>
                        <li><strong>Transport Layer:</strong> Handles process-to-process communication via <strong>port numbers</strong>.
                            <ul>
                                <li><strong>TCP:</strong> Reliable, connection-oriented.</li>
                                <li><strong>UDP:</strong> Fast, connectionless.</li>
                            </ul>
                        </li>
                        <li><strong>Network Layer:</strong> Main function is <strong>routing</strong> packets between networks. Uses <strong>IP Addresses</strong>.</li>
                        <li><strong>Data Link Layer:</strong> Transmits data within the same network. Uses <strong>MAC Addresses</strong>.
                            <ul><li>Technologies: Ethernet, Wi-Fi.</li></ul>
                        </li>
                        <li><strong>Physical Layer:</strong> Transmits bits over a physical medium (cables, radio waves).</li>
                    </ol>
                `
            }
        }
    ];
    
    // --- SCRIPT LOGIC ---
    let currentChapter = 0;
    let currentLang = 'vi';

    const tabContainerEl = document.getElementById('tab-container');
    const contentEl = document.getElementById('chapter-content');
    const mainTitleEl = document.getElementById('main-title');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const langToggleBtn = document.getElementById('lang-toggle');

    function createTabs() {
        tabContainerEl.innerHTML = '';
        chapters.forEach((chapter, index) => {
            const tabBtn = document.createElement('button');
            tabBtn.className = 'tab-btn';
            if (index === currentChapter) tabBtn.classList.add('active');
            tabBtn.textContent = chapter[currentLang].tab;
            tabBtn.setAttribute('data-index', index);
            tabBtn.addEventListener('click', () => {
                currentChapter = index;
                render();
            });
            tabContainerEl.appendChild(tabBtn);
        });
    }

    function renderChapter() {
        const chapterData = chapters[currentChapter][currentLang];
        contentEl.innerHTML = `<h2>${chapterData.title}</h2>` + chapterData.content;
        updateNavButtons();
    }
    
    function updateNavButtons() {
        prevBtn.disabled = currentChapter === 0;
        nextBtn.disabled = currentChapter === chapters.length - 1;
        const prevText = currentLang === 'vi' ? 'Chương trước' : 'Previous';
        const nextText = currentLang === 'vi' ? 'Chương tiếp' : 'Next';
        prevBtn.textContent = `← ${prevText}`;
        nextBtn.textContent = `${nextText} →`;
    }

    function updateActiveTab() {
        document.querySelectorAll('.tab-btn').forEach((tab, index) => {
            tab.classList.toggle('active', index === currentChapter);
        });
    }
    
    function render() {
        renderChapter();
        updateActiveTab();
    }

    function toggleLanguage() {
        currentLang = currentLang === 'vi' ? 'en' : 'vi';
        
        if (currentLang === 'vi') {
            mainTitleEl.textContent = 'Ôn tập Khoa học Máy tính';
            langToggleBtn.textContent = 'English';
        } else {
            mainTitleEl.textContent = 'Computer Science Review';
            langToggleBtn.textContent = 'Tiếng Việt';
        }
        
        createTabs();
        render();
    }
    
    nextBtn.addEventListener('click', () => {
        if (currentChapter < chapters.length - 1) {
            currentChapter++;
            render();
        }
    });
    
    prevBtn.addEventListener('click', () => {
        if (currentChapter > 0) {
            currentChapter--;
            render();
        }
    });
    
    langToggleBtn.addEventListener('click', toggleLanguage);

    // Initial Load
    createTabs();
    render();
</script>
</body>
</html>
